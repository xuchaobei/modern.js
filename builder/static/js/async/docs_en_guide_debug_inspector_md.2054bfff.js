(self.webpackChunkwebpack=self.webpackChunkwebpack||[]).push([["docs_en_guide_debug_inspector_md"],{16847:function(e,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});!function(e,s){for(var n in s)Object.defineProperty(e,n,{enumerable:!0,get:s[n]})}(s,{frontmatter:function(){return r},toc:function(){return o},title:function(){return t},default:function(){return a}});var i=n("12151"),l=n("21447");let r=void 0,o=[{id:"introduction",text:"Introduction",depth:2},{id:"enable",text:"Enable",depth:2},{id:"debug-panel",text:"Debug Panel",depth:2},{id:"config-preview-mode",text:"Config Preview Mode",depth:3},{id:"list-mode",text:"List Mode",depth:3},{id:"loader-statistics",text:"Loader Statistics",depth:3},{id:"dependency-graph-mode",text:"Dependency Graph Mode",depth:3}],t="Using Webpack Inspector";function c(e){let s=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",ul:"ul",li:"li",div:"div",button:"button",pre:"pre",code:"code",span:"span",h3:"h3",img:"img"},(0,l.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.h1,{id:"using-webpack-inspector",children:[(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#using-webpack-inspector",children:"#"}),"Using Webpack Inspector"]}),"\n",(0,i.jsxs)(s.p,{children:["Builder has a built-in ",(0,i.jsx)(s.a,{href:"https://github.com/web-infra-dev/webpack-inspector",target:"_blank",rel:"noopener noreferrer",children:"webpack inspector"})," to debug webpack."]}),"\n",(0,i.jsxs)(s.h2,{id:"introduction",children:[(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#introduction",children:"#"}),"Introduction"]}),"\n",(0,i.jsx)(s.p,{children:"The internal workflow of webpack is relatively black box, when using webpack, we often encounter the following problems:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"When using some upper-level frameworks, I don't know what the final generated webpack config contains."}),"\n",(0,i.jsx)(s.li,{children:"Each module will be processed by different loaders, and the compilation results of each loader are difficult to perceive."}),"\n",(0,i.jsx)(s.li,{children:"It is difficult to analyze the time cost of each webpack loader (such as babel-loader, ts-loader)."}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["In order to make performance analysis, error investigation and loader development more convenient, we provide the ",(0,i.jsx)(s.a,{href:"https://github.com/web-infra-dev/webpack-inspector",target:"_blank",rel:"noopener noreferrer",children:"webpack inspector"})," tool in the Builder."]}),"\n",(0,i.jsxs)(s.h2,{id:"enable",children:[(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#enable",children:"#"}),"Enable"]}),"\n",(0,i.jsxs)(s.p,{children:["You can enable webpack inspector through ",(0,i.jsx)(s.a,{href:"/builder/en/api/config-tools.html#toolsinspector",children:"tools.inspector"})," config:"]}),"\n",(0,i.jsxs)(s.div,{className:"language-ts",children:[(0,i.jsx)(s.div,{className:""}),(0,i.jsxs)(s.div,{className:"modern-code-content",children:[(0,i.jsx)(s.button,{className:"copy"}),(0,i.jsx)(s.pre,{className:"shiki",style:{backgroundColor:"var(--shiki-color-background)"},children:(0,i.jsxs)(s.code,{children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"default"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  tools"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    inspector"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {}"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  }"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"};"})}),"\n",(0,i.jsx)(s.span,{className:"line"})]})})]})]}),"\n",(0,i.jsx)(s.p,{children:"In order to prevent the inspector from affecting normal development, it is recommended to enable the inspector only in DEBUG mode:"}),"\n",(0,i.jsxs)(s.div,{className:"language-ts",children:[(0,i.jsx)(s.div,{className:""}),(0,i.jsxs)(s.div,{className:"modern-code-content",children:[(0,i.jsx)(s.button,{className:"copy"}),(0,i.jsx)(s.pre,{className:"shiki",style:{backgroundColor:"var(--shiki-color-background)"},children:(0,i.jsxs)(s.code,{children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"default"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  tools"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    inspector"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"process"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"env"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"DEBUG"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"?"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {} "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"undefined"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  }"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"};"})}),"\n",(0,i.jsx)(s.span,{className:"line"})]})})]})]}),"\n",(0,i.jsxs)(s.p,{children:["After adding the above config, when you execute ",(0,i.jsx)(s.code,{children:"DEBUG=true pnpm dev"}),", Builder will start the inspector after the compilation is complete. At this time, you can see the following information in the Shell:"]}),"\n",(0,i.jsxs)(s.div,{className:"language-shell",children:[(0,i.jsx)(s.div,{className:""}),(0,i.jsxs)(s.div,{className:"modern-code-content",children:[(0,i.jsx)(s.button,{className:"copy"}),(0,i.jsx)(s.pre,{className:"shiki",style:{backgroundColor:"var(--shiki-color-background)"},children:(0,i.jsxs)(s.code,{children:[(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"info    Starting dev server..."})}),"\n",(0,i.jsx)(s.span,{className:"line"}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"【Webpack Inspector】\uD83D\uDD25 started at http://localhost:3333"})}),"\n",(0,i.jsx)(s.span,{className:"line"})]})})]})]}),"\n",(0,i.jsxs)(s.p,{children:["Open the ",(0,i.jsx)(s.code,{children:"http://localhost:3333"})," address to access the debug panel of the inspector."]}),"\n",(0,i.jsxs)(s.h2,{id:"debug-panel",children:[(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#debug-panel",children:"#"}),"Debug Panel"]}),"\n",(0,i.jsx)(s.p,{children:"The Inspector's debugging panel provides multiple modes, which you can switch through the buttons in the upper right corner."}),"\n",(0,i.jsxs)(s.h3,{id:"config-preview-mode",children:[(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#config-preview-mode",children:"#"}),"Config Preview Mode"]}),"\n",(0,i.jsx)(s.p,{children:"The default mode of the panel is config preview mode. In this mode, you can view all config information inside webpack, and the config object can be expanded or collapsed:"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/39248c0f-b1cd-4ea5-b522-3ebba7569497.png",alt:""})}),"\n",(0,i.jsxs)(s.h3,{id:"list-mode",children:[(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#list-mode",children:"#"}),"List Mode"]}),"\n",(0,i.jsx)(s.p,{children:"In this mode, all module information will be displayed:"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/8ff3bba0-7824-43b3-996f-7a3b5d2c4f59.png",alt:""})}),"\n",(0,i.jsx)(s.p,{children:"Clicking on the list item will display the compilation details of the module:"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/output.png",alt:""})}),"\n",(0,i.jsxs)(s.h3,{id:"loader-statistics",children:[(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#loader-statistics",children:"#"}),"Loader Statistics"]}),"\n",(0,i.jsx)(s.p,{children:"Click the following switch to view loader statistics:"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/c0697cd6-963f-4169-8dc3-dc178641a861.png",alt:""})}),"\n",(0,i.jsxs)(s.h3,{id:"dependency-graph-mode",children:[(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#dependency-graph-mode",children:"#"}),"Dependency Graph Mode"]}),"\n",(0,i.jsx)(s.p,{children:"In this mode, the dependencies of all modules will be displayed:"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/9ee30176-e993-4638-83d0-add14484b1b2.png",alt:""})}),"\n",(0,i.jsx)(s.p,{children:"Clicking on a node in the graph will also display the compilation details of the specific module:"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/6f4b6cc7-94c8-446a-8b64-86ca98fbdca7.png",alt:""})}),"\n",(0,i.jsxs)(s.div,{className:"modern-directive tip",children:[(0,i.jsx)(s.p,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(s.div,{className:"modern-directive-content",children:(0,i.jsx)(s.p,{children:"\nFor performance reasons, the dependency graph is not displayed when the number of modules is > 100."})})]})]})}var a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,l.useMDXComponents)(),e.components);return s?(0,i.jsx)(s,Object.assign({},e,{children:(0,i.jsx)(c,e)})):c(e)}}}]);