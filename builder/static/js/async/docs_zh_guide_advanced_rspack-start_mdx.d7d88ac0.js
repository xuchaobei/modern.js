(self.webpackChunkwebpack=self.webpackChunkwebpack||[]).push([["docs_zh_guide_advanced_rspack-start_mdx"],{34471:function(e,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});!function(e,s){for(var n in s)Object.defineProperty(e,n,{enumerable:!0,get:s[n]})}(s,{frontmatter:function(){return i},toc:function(){return c},title:function(){return o},default:function(){return t}});var r=n("12151"),l=n.ir(n("82243"));let i=void 0,c=[{id:"启用-rspack",text:"启用 Rspack",depth:2},{id:"在-modernjs-框架中启用",text:"在 Modern.js 框架中启用",depth:3},{id:"在前端框架中接入",text:"在前端框架中接入",depth:3},{id:"从-webpack-迁移到-rspack",text:"从 webpack 迁移到 Rspack",depth:2},{id:"配置差异",text:"配置差异",depth:3},{id:"source-config",text:"Source Config",depth:4},{id:"html-config",text:"Html Config",depth:4},{id:"security-config",text:"Security Config",depth:4},{id:"dev-config",text:"Dev Config",depth:4},{id:"output-config",text:"Output Config",depth:4},{id:"experiments-config",text:"Experiments Config",depth:4},{id:"performance-config",text:"Performance Config",depth:4},{id:"tools-config",text:"Tools Config",depth:4},{id:"修改-rspack-配置",text:"修改 Rspack 配置",depth:3},{id:"更灵活的修改配置方式",text:"更灵活的修改配置方式",depth:3}],o="使用 Rspack";function a(e){let s=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",h3:"h3",ol:"ol",li:"li",code:"code",div:"div",button:"button",pre:"pre",span:"span",ul:"ul",h4:"h4",blockquote:"blockquote",strong:"strong"},e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.h1,{id:"使用-rspack",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#使用-rspack",children:"#"}),"使用 Rspack"]}),"\n",(0,r.jsx)(s.p,{children:"这篇文档会向你介绍如何在 Builder 中开启 Rspack 构建模式。"}),"\n","\n",(0,r.jsx)(l.default,{}),"\n",(0,r.jsxs)(s.h2,{id:"启用-rspack",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#启用-rspack",children:"#"}),"启用 Rspack"]}),"\n",(0,r.jsxs)(s.h3,{id:"在-modernjs-框架中启用",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#在-modernjs-框架中启用",children:"#"}),"在 Modern.js 框架中启用"]}),"\n",(0,r.jsxs)(s.p,{children:["Modern.js 框架默认使用 webpack 作为打包工具。如果希望启用 Rspack 作为打包工具，我们推荐通过 ",(0,r.jsx)(s.a,{href:"https://modernjs.dev/guides/advanced-features/rspack-start.html#%E5%88%9D%E5%A7%8B%E5%8C%96-rspack-%E9%A1%B9%E7%9B%AE",target:"_blank",rel:"nofollow",children:"Modern.js 生成器"})," 方式启用。"]}),"\n",(0,r.jsx)(s.p,{children:"当然，你也可以通过下面的步骤来手动接入:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["安装 ",(0,r.jsx)(s.code,{children:"@modern-js/builder-rspack-provider"}),"（版本号需要与 Modern.js 版本号保持一致）。"]}),"\n"]}),"\n",(0,r.jsxs)(s.div,{className:"language-text",children:[(0,r.jsx)(s.div,{className:""}),(0,r.jsxs)(s.div,{className:"modern-code-content",children:[(0,r.jsx)(s.button,{className:"copy"}),(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"pnpm add @modern-js/builder-rspack-provider -D\n"})})]})]}),"\n",(0,r.jsx)(s.p,{children:"通过 package.json 或 lock 文件，确认 Modern.js 版本号:"}),"\n",(0,r.jsxs)(s.div,{className:"language-json",children:[(0,r.jsx)(s.div,{className:"modern-code-title",children:"package.json"}),(0,r.jsxs)(s.div,{className:"modern-code-content",children:[(0,r.jsx)(s.button,{className:"copy"}),(0,r.jsx)(s.pre,{className:"shiki",style:{backgroundColor:"var(--shiki-color-background)"},children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"{"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"devDependencies"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"@modern-js/app-tools"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"2.8.0"'})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsx)(s.span,{className:"line"})]})})]})]}),"\n",(0,r.jsxs)(s.ol,{start:"2",children:["\n",(0,r.jsx)(s.li,{children:"在 Modern.js 配置文件中声明使用 Rspack:"}),"\n"]}),"\n",(0,r.jsxs)(s.div,{className:"language-diff",children:[(0,r.jsx)(s.div,{className:"modern-code-title",children:"modern.config.ts"}),(0,r.jsxs)(s.div,{className:"modern-code-content",children:[(0,r.jsx)(s.button,{className:"copy"}),(0,r.jsx)(s.pre,{className:"shiki",style:{backgroundColor:"var(--shiki-color-background)"},children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"import appTools, { defineConfig } from '@modern-js/app-tools';"})}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#4AB576"},children:"+ export default defineConfig<'rspack'>({"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  plugins: ["})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    appTools({"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#4AB576"},children:"+     bundler: 'experimental-rspack',"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    }),"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  ],"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"});"})}),"\n",(0,r.jsx)(s.span,{className:"line"})]})})]})]}),"\n",(0,r.jsxs)(s.h3,{id:"在前端框架中接入",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#在前端框架中接入",children:"#"}),"在前端框架中接入"]}),"\n",(0,r.jsxs)(s.p,{children:["如果你基于 Builder 开发了一个前端框架，接入 rspack-provider 和 ",(0,r.jsx)(s.a,{href:"/builder/guide/quick-start.html#%E5%9C%A8%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6%E4%B8%AD%E6%8E%A5%E5%85%A5",children:"接入 webpack-provider"})," 的方式类似，只需要把依赖从 ",(0,r.jsx)(s.code,{children:"@modern-js/builder-webpack-provider"})," 改为 ",(0,r.jsx)(s.code,{children:"@modern-js/builder-rspack-provider"})," 即可。"]}),"\n",(0,r.jsxs)(s.div,{className:"language-ts",children:[(0,r.jsx)(s.div,{className:"modern-code-title",children:"modern.config.ts"}),(0,r.jsxs)(s.div,{className:"modern-code-content",children:[(0,r.jsx)(s.button,{className:"copy"}),(0,r.jsx)(s.pre,{className:"shiki",style:{backgroundColor:"var(--shiki-color-background)"},children:(0,r.jsxs)(s.code,{children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { createBuilder } "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'@modern-js/builder'"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { builderRspackProvider } "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'@modern-js/builder-rspack-provider'"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"provider"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"builderRspackProvider"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"({"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  builderConfig"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// some configs"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  }"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"});"})}),"\n",(0,r.jsx)(s.span,{className:"line"})]})})]})]}),"\n",(0,r.jsxs)(s.h2,{id:"从-webpack-迁移到-rspack",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#从-webpack-迁移到-rspack",children:"#"}),"从 webpack 迁移到 Rspack"]}),"\n",(0,r.jsx)(s.p,{children:"Builder 旨在消除不同打包工具之间的主要差异，帮助用户以较低成本进行迁移。但由于各个打包工具提供的能力不同，你仍需要了解其中的部分差异。"}),"\n",(0,r.jsxs)(s.p,{children:["本文将从 Builder 的角度介绍 webpack 和 Rspack 之间的区别。如果需要了解更深层次的差异，请参考 ",(0,r.jsx)(s.a,{href:"http://rspack.dev/zh/guide/migrate-from-webpack.html",target:"_blank",rel:"nofollow",children:"Rspack 文档"}),"。"]}),"\n",(0,r.jsxs)(s.h3,{id:"配置差异",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#配置差异",children:"#"}),"配置差异"]}),"\n",(0,r.jsx)(s.p,{children:"目前，Builder 内大部分的配置项已经适配了 Rspack。Builder 所做的工作包括不限于："}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["对一些原本使用借助 webpack loader / plugin (在 Rspack 中不支持使用) 实现的功能，使用 Rspack 替代方案实现。比如，通过 ",(0,r.jsx)(s.code,{children:"css/module"})," 替代 ",(0,r.jsx)(s.code,{children:"css-loader"})," 的 modules 能力。"]}),"\n",(0,r.jsxs)(s.li,{children:["对 webpack 插件进行验证及封装。如 ",(0,r.jsx)(s.code,{children:"@svgr/webpack"}),"、",(0,r.jsx)(s.code,{children:"webpack-bundle-analyzer"})," 等;"]}),"\n",(0,r.jsxs)(s.li,{children:["对 Rspack 内置能力进行封装。如 ",(0,r.jsx)(s.code,{children:"css"}),"、",(0,r.jsx)(s.code,{children:"minify"})," 等;"]}),"\n"]}),"\n",(0,r.jsxs)(s.h4,{id:"source-config",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#source-config",children:"#"}),"Source Config"]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"Builder 中与源代码解析、编译方式相关的配置。"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"不支持的配置项及能力包括："}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/builder/api/config-source.html#sourcemodulescopes",children:"source.moduleScopes"})}),"\n"]}),"\n",(0,r.jsxs)(s.h4,{id:"html-config",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#html-config",children:"#"}),"Html Config"]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"Builder 中与 HTML 有关的配置。"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"所有 html 下的配置项及能力在 Rspack 内均可使用。"}),"\n",(0,r.jsxs)(s.h4,{id:"security-config",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#security-config",children:"#"}),"Security Config"]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"Builder 中与安全有关的配置。"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["所有 security 下的配置项及能力",(0,r.jsx)(s.strong,{children:"均不支持"}),"在 Rspack 内使用。"]}),"\n",(0,r.jsxs)(s.h4,{id:"dev-config",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#dev-config",children:"#"}),"Dev Config"]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"Builder 中与本地开发有关的配置。"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"所有 dev 下的配置项及能力在 Rspack 内均可使用。"}),"\n",(0,r.jsxs)(s.h4,{id:"output-config",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#output-config",children:"#"}),"Output Config"]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"Builder 中与构建产物有关的配置。"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"不支持的配置项及能力包括："}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/builder/api/config-output.html#outputassetsretry",children:"output.assetsRetry"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/builder/api/config-output.html#outputdisablecssextract",children:"output.disableCssExtract"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/builder/api/config-output.html#outputenableassetmanifest",children:"output.enableAssetManifest"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/builder/api/config-output.html#outputenablecssmoduletsdeclaration",children:"output.enableCssModuleTSDeclaration"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/builder/api/config-output.html#outputlegalcomments",children:"output.legalComments"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/builder/api/config-output.html#outputenableinlinescripts",children:"output.enableInlineScripts"})}),"\n",(0,r.jsxs)(s.li,{children:["tsChecker 能力","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/builder/api/config-output.html#outputdisabletschecker",children:"output.disableTsChecker"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.h4,{id:"experiments-config",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#experiments-config",children:"#"}),"Experiments Config"]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"Builder 中的一些实验性配置。"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["所有 experiments 下的配置项及能力",(0,r.jsx)(s.strong,{children:"均不支持"}),"在 Rspack 内使用。"]}),"\n",(0,r.jsxs)(s.h4,{id:"performance-config",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#performance-config",children:"#"}),"Performance Config"]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"Builder 中与性能有关的配置。"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"不支持的配置项及能力包括："}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/builder/api/config-performance.html#performanceprofile",children:"performance.profile"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/builder/api/config-performance.html#performanceremovemomentlocale",children:"performance.removeMomentLocale"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/builder/api/config-performance.html#performancebuildcache",children:"performance.buildCache"})}),"\n"]}),"\n",(0,r.jsxs)(s.h4,{id:"tools-config",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#tools-config",children:"#"}),"Tools Config"]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"Builder 中与底层工具有关的配置。"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"不支持的配置项包括："}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/builder/api/config-tools.html#toolsterser",children:"tools.terser"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/builder/api/config-tools.html#toolsbabel",children:"tools.babel"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/builder/api/config-tools.html#toolscssextract",children:"tools.cssExtract"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/builder/api/config-tools.html#toolscssloader",children:"tools.cssLoader"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/builder/api/config-tools.html#toolsinspector",children:"tools.inspector"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/builder/api/config-tools.html#toolsminifycss",children:"tools.minifyCss"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/builder/api/config-tools.html#toolspug",children:"tools.pug"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/builder/api/config-tools.html#toolsstyleloader",children:"tools.styleLoader"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/builder/api/config-tools.html#toolsstyledcomponents",children:"tools.styledComponents"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/builder/api/config-tools.html#toolstsloader",children:"tools.tsLoader"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/builder/api/config-tools.html#toolstschecker",children:"tools.tsChecker"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/builder/api/config-tools.html#toolswebpack",children:"tools.webpack"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/builder/api/config-tools.html#toolswebpackchain",children:"tools.webpackChain"})}),"\n"]}),"\n",(0,r.jsxs)(s.div,{className:"modern-directive tip",children:[(0,r.jsx)(s.p,{className:"modern-directive-title",children:"TIP"}),(0,r.jsx)(s.div,{className:"modern-directive-content",children:(0,r.jsx)(s.p,{children:"\n除上述配置外，一些已支持的配置可能存在能力差异，请参考各配置 API 获取具体差异信息。"})})]}),"\n",(0,r.jsxs)(s.h3,{id:"修改-rspack-配置",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#修改-rspack-配置",children:"#"}),"修改 Rspack 配置"]}),"\n",(0,r.jsxs)(s.p,{children:["你可以使用 ",(0,r.jsx)(s.a,{href:"/builder/api/config-tools.html#toolsrspack",children:"tools.rspack"})," 来修改 Rspack 配置对象，对 Rspack 配置进行更灵活的操作。"]}),"\n",(0,r.jsxs)(s.div,{className:"language-ts",children:[(0,r.jsx)(s.div,{className:""}),(0,r.jsxs)(s.div,{className:"modern-code-content",children:[(0,r.jsx)(s.button,{className:"copy"}),(0,r.jsx)(s.pre,{className:"shiki",style:{backgroundColor:"var(--shiki-color-background)"},children:(0,r.jsxs)(s.code,{children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"default"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  tools"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"rspack"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" (config"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { env }) "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" (env "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"==="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'development'"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"config"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".devtool "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'cheap-module-eval-source-map'"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"      }"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" config;"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    }"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  }"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"};"})}),"\n",(0,r.jsx)(s.span,{className:"line"})]})})]})]}),"\n",(0,r.jsxs)(s.p,{children:["关于 Rspack 的详细配置信息，请参考 ",(0,r.jsx)(s.a,{href:"https://rspack.dev/",target:"_blank",rel:"nofollow",children:"Rspack 官网"}),"。"]}),"\n",(0,r.jsxs)(s.h3,{id:"更灵活的修改配置方式",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#更灵活的修改配置方式",children:"#"}),"更灵活的修改配置方式"]}),"\n",(0,r.jsx)(s.p,{children:"Builder 暂未提供类似 webpack-chain 的方式来灵活修改 Rspack config 的方法。"}),"\n",(0,r.jsxs)(s.p,{children:["如需增删插件或 Rule，可使用 ",(0,r.jsx)(s.a,{href:"/builder/api/config-tools.html#prependplugins",children:"prependPlugins"}),"、",(0,r.jsx)(s.a,{href:"/builder/api/config-tools.html#addrules",children:"addRules"})," 等工具方法实现。"]}),"\n",(0,r.jsx)(s.p,{children:"如需对已有插件或 Rule 进行修改，推荐优先使用 Builder 已有配置项进行修改。"}),"\n",(0,r.jsxs)(s.p,{children:["比如，修改 HTML 相关配置，可以优先查看 ",(0,r.jsx)(s.a,{href:"/builder/api/config-html.html",children:"html config"})," 下是否存在相应的配置项，html config 不支持的情况下，可使用 ",(0,r.jsx)(s.a,{href:"/builder/api/config-tools.html#toolshtmlplugin",children:"tools.htmlPlugin"})," 配置项。"]})]})}var t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=e.components||{};return s?(0,r.jsx)(s,Object.assign({},e,{children:(0,r.jsx)(a,e)})):a(e)}}}]);