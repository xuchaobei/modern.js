(self.webpackChunkwebpack=self.webpackChunkwebpack||[]).push([["docs_en_guide_basic_modify-output-product_md"],{89544:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{CH:function(){return a},chCodeConfig:function(){return s},frontmatter:function(){return l},toc:function(){return c},title:function(){return u},default:function(){return p}});var o=n("12151"),r=n("21447"),i=n("98691");let a={annotations:i.annotations,Code:i.Code},s={staticMediaQuery:"not screen, (max-width: 768px)",theme:{name:"nord",type:"dark",semanticHighlighting:!0,colors:{focusBorder:"#3b4252",foreground:"#d8dee9","activityBar.background":"#2e3440","activityBar.dropBackground":"#3b4252","activityBar.foreground":"#d8dee9","activityBar.activeBorder":"#88c0d0","activityBar.activeBackground":"#3b4252","activityBarBadge.background":"#88c0d0","activityBarBadge.foreground":"#2e3440","badge.foreground":"#2e3440","badge.background":"#88c0d0","button.background":"#88c0d0ee","button.foreground":"#2e3440","button.hoverBackground":"#88c0d0","button.secondaryBackground":"#434c5e","button.secondaryForeground":"#d8dee9","button.secondaryHoverBackground":"#4c566a","charts.red":"#bf616a","charts.blue":"#81a1c1","charts.yellow":"#ebcb8b","charts.orange":"#d08770","charts.green":"#a3be8c","charts.purple":"#b48ead","charts.foreground":"#d8dee9","charts.lines":"#88c0d0","debugConsole.infoForeground":"#88c0d0","debugConsole.warningForeground":"#ebcb8b","debugConsole.errorForeground":"#bf616a","debugConsole.sourceForeground":"#616e88","debugConsoleInputIcon.foreground":"#81a1c1","debugExceptionWidget.background":"#4c566a","debugExceptionWidget.border":"#2e3440","debugToolBar.background":"#3b4252",descriptionForeground:"#d8dee9e6","diffEditor.insertedTextBackground":"#81a1c133","diffEditor.removedTextBackground":"#bf616a4d","dropdown.background":"#3b4252","dropdown.border":"#3b4252","dropdown.foreground":"#d8dee9","editorActiveLineNumber.foreground":"#d8dee9cc","editorCursor.foreground":"#d8dee9","editorHint.border":"#ebcb8b00","editorHint.foreground":"#ebcb8b","editorIndentGuide.background":"#434c5eb3","editorIndentGuide.activeBackground":"#4c566a","editorInlayHint.background":"#434c5e","editorInlayHint.foreground":"#d8dee9","editorLineNumber.foreground":"#4c566a","editorLineNumber.activeForeground":"#d8dee9","editorWhitespace.foreground":"#4c566ab3","editorWidget.background":"#2e3440","editorWidget.border":"#3b4252","editor.background":"#2e3440","editor.foreground":"#d8dee9","editor.hoverHighlightBackground":"#3b4252","editor.findMatchBackground":"#88c0d066","editor.findMatchHighlightBackground":"#88c0d033","editor.findRangeHighlightBackground":"#88c0d033","editor.lineHighlightBackground":"#3b4252","editor.lineHighlightBorder":"#3b4252","editor.inactiveSelectionBackground":"#434c5ecc","editor.inlineValuesBackground":"#4c566a","editor.inlineValuesForeground":"#eceff4","editor.selectionBackground":"#434c5ecc","editor.selectionHighlightBackground":"#434c5ecc","editor.rangeHighlightBackground":"#434c5e52","editor.wordHighlightBackground":"#81a1c166","editor.wordHighlightStrongBackground":"#81a1c199","editor.stackFrameHighlightBackground":"#5e81ac","editor.focusedStackFrameHighlightBackground":"#5e81ac","editorError.foreground":"#bf616a","editorError.border":"#bf616a00","editorWarning.foreground":"#ebcb8b","editorWarning.border":"#ebcb8b00","editorBracketMatch.background":"#2e344000","editorBracketMatch.border":"#88c0d0","editorBracketHighlight.foreground1":"#8fbcbb","editorBracketHighlight.foreground2":"#88c0d0","editorBracketHighlight.foreground3":"#81a1c1","editorBracketHighlight.foreground4":"#5e81ac","editorBracketHighlight.foreground5":"#8fbcbb","editorBracketHighlight.foreground6":"#88c0d0","editorBracketHighlight.unexpectedBracket.foreground":"#bf616a","editorCodeLens.foreground":"#4c566a","editorGroup.background":"#2e3440","editorGroup.border":"#3b425201","editorGroup.dropBackground":"#3b425299","editorGroupHeader.border":"#3b425200","editorGroupHeader.noTabsBackground":"#2e3440","editorGroupHeader.tabsBackground":"#2e3440","editorGroupHeader.tabsBorder":"#3b425200","editorGutter.background":"#2e3440","editorGutter.modifiedBackground":"#ebcb8b","editorGutter.addedBackground":"#a3be8c","editorGutter.deletedBackground":"#bf616a","editorHoverWidget.background":"#3b4252","editorHoverWidget.border":"#3b4252","editorLink.activeForeground":"#88c0d0","editorMarkerNavigation.background":"#5e81acc0","editorMarkerNavigationError.background":"#bf616ac0","editorMarkerNavigationWarning.background":"#ebcb8bc0","editorOverviewRuler.border":"#3b4252","editorOverviewRuler.currentContentForeground":"#3b4252","editorOverviewRuler.incomingContentForeground":"#3b4252","editorOverviewRuler.findMatchForeground":"#88c0d066","editorOverviewRuler.rangeHighlightForeground":"#88c0d066","editorOverviewRuler.selectionHighlightForeground":"#88c0d066","editorOverviewRuler.wordHighlightForeground":"#88c0d066","editorOverviewRuler.wordHighlightStrongForeground":"#88c0d066","editorOverviewRuler.modifiedForeground":"#ebcb8b","editorOverviewRuler.addedForeground":"#a3be8c","editorOverviewRuler.deletedForeground":"#bf616a","editorOverviewRuler.errorForeground":"#bf616a","editorOverviewRuler.warningForeground":"#ebcb8b","editorOverviewRuler.infoForeground":"#81a1c1","editorRuler.foreground":"#434c5e","editorSuggestWidget.background":"#2e3440","editorSuggestWidget.border":"#3b4252","editorSuggestWidget.foreground":"#d8dee9","editorSuggestWidget.focusHighlightForeground":"#88c0d0","editorSuggestWidget.highlightForeground":"#88c0d0","editorSuggestWidget.selectedBackground":"#434c5e","editorSuggestWidget.selectedForeground":"#d8dee9","extensionButton.prominentForeground":"#d8dee9","extensionButton.prominentBackground":"#434c5e","extensionButton.prominentHoverBackground":"#4c566a",errorForeground:"#bf616a","gitDecoration.modifiedResourceForeground":"#ebcb8b","gitDecoration.deletedResourceForeground":"#bf616a","gitDecoration.untrackedResourceForeground":"#a3be8c","gitDecoration.ignoredResourceForeground":"#d8dee966","gitDecoration.conflictingResourceForeground":"#5e81ac","gitDecoration.submoduleResourceForeground":"#8fbcbb","gitDecoration.stageDeletedResourceForeground":"#bf616a","gitDecoration.stageModifiedResourceForeground":"#ebcb8b","input.background":"#3b4252","input.foreground":"#d8dee9","input.placeholderForeground":"#d8dee999","input.border":"#3b4252","inputOption.activeBackground":"#5e81ac","inputOption.activeBorder":"#5e81ac","inputOption.activeForeground":"#eceff4","inputValidation.errorBackground":"#bf616a","inputValidation.errorBorder":"#bf616a","inputValidation.infoBackground":"#81a1c1","inputValidation.infoBorder":"#81a1c1","inputValidation.warningBackground":"#d08770","inputValidation.warningBorder":"#d08770","keybindingLabel.background":"#4c566a","keybindingLabel.border":"#4c566a","keybindingLabel.bottomBorder":"#4c566a","keybindingLabel.foreground":"#d8dee9","list.activeSelectionBackground":"#88c0d0","list.activeSelectionForeground":"#2e3440","list.inactiveSelectionBackground":"#434c5e","list.inactiveSelectionForeground":"#d8dee9","list.inactiveFocusBackground":"#434c5ecc","list.hoverForeground":"#eceff4","list.focusForeground":"#d8dee9","list.focusBackground":"#88c0d099","list.focusHighlightForeground":"#eceff4","list.hoverBackground":"#3b4252","list.dropBackground":"#88c0d099","list.highlightForeground":"#88c0d0","list.errorForeground":"#bf616a","list.warningForeground":"#ebcb8b","merge.currentHeaderBackground":"#81a1c166","merge.currentContentBackground":"#81a1c14d","merge.incomingHeaderBackground":"#8fbcbb66","merge.incomingContentBackground":"#8fbcbb4d","merge.border":"#3b425200","minimap.background":"#2e3440","minimap.errorHighlight":"#bf616acc","minimap.findMatchHighlight":"#88c0d0","minimap.selectionHighlight":"#88c0d0cc","minimap.warningHighlight":"#ebcb8bcc","minimapGutter.addedBackground":"#a3be8c","minimapGutter.deletedBackground":"#bf616a","minimapGutter.modifiedBackground":"#ebcb8b","minimapSlider.activeBackground":"#434c5eaa","minimapSlider.background":"#434c5e99","minimapSlider.hoverBackground":"#434c5eaa","notification.background":"#3b4252","notification.buttonBackground":"#434c5e","notification.buttonForeground":"#d8dee9","notification.buttonHoverBackground":"#4c566a","notification.errorBackground":"#bf616a","notification.errorForeground":"#2e3440","notification.foreground":"#d8dee9","notification.infoBackground":"#88c0d0","notification.infoForeground":"#2e3440","notification.warningBackground":"#ebcb8b","notification.warningForeground":"#2e3440","notificationCenter.border":"#3b425200","notificationCenterHeader.background":"#2e3440","notificationCenterHeader.foreground":"#88c0d0","notificationLink.foreground":"#88c0d0","notifications.background":"#3b4252","notifications.border":"#2e3440","notifications.foreground":"#d8dee9","notificationToast.border":"#3b425200","panel.background":"#2e3440","panel.border":"#3b4252","panelTitle.activeBorder":"#88c0d000","panelTitle.activeForeground":"#88c0d0","panelTitle.inactiveForeground":"#d8dee9","peekView.border":"#4c566a","peekViewEditor.background":"#2e3440","peekViewEditorGutter.background":"#2e3440","peekViewEditor.matchHighlightBackground":"#88c0d04d","peekViewResult.background":"#2e3440","peekViewResult.fileForeground":"#88c0d0","peekViewResult.lineForeground":"#d8dee966","peekViewResult.matchHighlightBackground":"#88c0d0cc","peekViewResult.selectionBackground":"#434c5e","peekViewResult.selectionForeground":"#d8dee9","peekViewTitle.background":"#3b4252","peekViewTitleDescription.foreground":"#d8dee9","peekViewTitleLabel.foreground":"#88c0d0","pickerGroup.border":"#3b4252","pickerGroup.foreground":"#88c0d0","progressBar.background":"#88c0d0","quickInputList.focusBackground":"#88c0d0","quickInputList.focusForeground":"#2e3440","sash.hoverBorder":"#88c0d0","scrollbar.shadow":"#00000066","scrollbarSlider.activeBackground":"#434c5eaa","scrollbarSlider.background":"#434c5e99","scrollbarSlider.hoverBackground":"#434c5eaa","selection.background":"#88c0d099","sideBar.background":"#2e3440","sideBar.foreground":"#d8dee9","sideBar.border":"#3b4252","sideBarSectionHeader.background":"#3b4252","sideBarSectionHeader.foreground":"#d8dee9","sideBarTitle.foreground":"#d8dee9","statusBar.background":"#3b4252","statusBar.debuggingBackground":"#5e81ac","statusBar.debuggingForeground":"#d8dee9","statusBar.noFolderForeground":"#d8dee9","statusBar.noFolderBackground":"#3b4252","statusBar.foreground":"#d8dee9","statusBarItem.activeBackground":"#4c566a","statusBarItem.hoverBackground":"#434c5e","statusBarItem.prominentBackground":"#3b4252","statusBarItem.prominentHoverBackground":"#434c5e","statusBarItem.errorBackground":"#3b4252","statusBarItem.errorForeground":"#bf616a","statusBarItem.warningBackground":"#ebcb8b","statusBarItem.warningForeground":"#2e3440","statusBar.border":"#3b425200","tab.activeBackground":"#3b4252","tab.activeForeground":"#d8dee9","tab.border":"#3b425200","tab.activeBorder":"#88c0d000","tab.unfocusedActiveBorder":"#88c0d000","tab.inactiveBackground":"#2e3440","tab.inactiveForeground":"#d8dee966","tab.unfocusedActiveForeground":"#d8dee999","tab.unfocusedInactiveForeground":"#d8dee966","tab.hoverBackground":"#3b4252cc","tab.unfocusedHoverBackground":"#3b4252b3","tab.hoverBorder":"#88c0d000","tab.unfocusedHoverBorder":"#88c0d000","tab.activeBorderTop":"#88c0d000","tab.unfocusedActiveBorderTop":"#88c0d000","tab.lastPinnedBorder":"#4c566a","terminal.background":"#2e3440","terminal.foreground":"#d8dee9","terminal.ansiBlack":"#3b4252","terminal.ansiRed":"#bf616a","terminal.ansiGreen":"#a3be8c","terminal.ansiYellow":"#ebcb8b","terminal.ansiBlue":"#81a1c1","terminal.ansiMagenta":"#b48ead","terminal.ansiCyan":"#88c0d0","terminal.ansiWhite":"#e5e9f0","terminal.ansiBrightBlack":"#4c566a","terminal.ansiBrightRed":"#bf616a","terminal.ansiBrightGreen":"#a3be8c","terminal.ansiBrightYellow":"#ebcb8b","terminal.ansiBrightBlue":"#81a1c1","terminal.ansiBrightMagenta":"#b48ead","terminal.ansiBrightCyan":"#8fbcbb","terminal.ansiBrightWhite":"#eceff4","terminal.tab.activeBorder":"#88c0d0","textBlockQuote.background":"#3b4252","textBlockQuote.border":"#81a1c1","textCodeBlock.background":"#4c566a","textLink.activeForeground":"#88c0d0","textLink.foreground":"#88c0d0","textPreformat.foreground":"#8fbcbb","textSeparator.foreground":"#eceff4","titleBar.activeBackground":"#2e3440","titleBar.activeForeground":"#d8dee9","titleBar.border":"#2e344000","titleBar.inactiveBackground":"#2e3440","titleBar.inactiveForeground":"#d8dee966","tree.indentGuidesStroke":"#616e88","walkThrough.embeddedEditorBackground":"#2e3440","welcomePage.buttonBackground":"#434c5e","welcomePage.buttonHoverBackground":"#4c566a","widget.shadow":"#00000066"},tokenColors:[{settings:{foreground:"#d8dee9ff",background:"#2e3440ff"}},{scope:"emphasis",settings:{fontStyle:"italic"}},{scope:"strong",settings:{fontStyle:"bold"}},{name:"Comment",scope:"comment",settings:{foreground:"#616E88"}},{name:"Constant Character",scope:"constant.character",settings:{foreground:"#EBCB8B"}},{name:"Constant Character Escape",scope:"constant.character.escape",settings:{foreground:"#EBCB8B"}},{name:"Constant Language",scope:"constant.language",settings:{foreground:"#81A1C1"}},{name:"Constant Numeric",scope:"constant.numeric",settings:{foreground:"#B48EAD"}},{name:"Constant Regexp",scope:"constant.regexp",settings:{foreground:"#EBCB8B"}},{name:"Entity Name Class/Type",scope:["entity.name.class","entity.name.type.class"],settings:{foreground:"#8FBCBB"}},{name:"Entity Name Function",scope:"entity.name.function",settings:{foreground:"#88C0D0"}},{name:"Entity Name Tag",scope:"entity.name.tag",settings:{foreground:"#81A1C1"}},{name:"Entity Other Attribute Name",scope:"entity.other.attribute-name",settings:{foreground:"#8FBCBB"}},{name:"Entity Other Inherited Class",scope:"entity.other.inherited-class",settings:{fontStyle:"bold",foreground:"#8FBCBB"}},{name:"Invalid Deprecated",scope:"invalid.deprecated",settings:{foreground:"#D8DEE9",background:"#EBCB8B"}},{name:"Invalid Illegal",scope:"invalid.illegal",settings:{foreground:"#D8DEE9",background:"#BF616A"}},{name:"Keyword",scope:"keyword",settings:{foreground:"#81A1C1"}},{name:"Keyword Operator",scope:"keyword.operator",settings:{foreground:"#81A1C1"}},{name:"Keyword Other New",scope:"keyword.other.new",settings:{foreground:"#81A1C1"}},{name:"Markup Bold",scope:"markup.bold",settings:{fontStyle:"bold"}},{name:"Markup Changed",scope:"markup.changed",settings:{foreground:"#EBCB8B"}},{name:"Markup Deleted",scope:"markup.deleted",settings:{foreground:"#BF616A"}},{name:"Markup Inserted",scope:"markup.inserted",settings:{foreground:"#A3BE8C"}},{name:"Meta Preprocessor",scope:"meta.preprocessor",settings:{foreground:"#5E81AC"}},{name:"Punctuation",scope:"punctuation",settings:{foreground:"#ECEFF4"}},{name:"Punctuation Definition Parameters",scope:["punctuation.definition.method-parameters","punctuation.definition.function-parameters","punctuation.definition.parameters"],settings:{foreground:"#ECEFF4"}},{name:"Punctuation Definition Tag",scope:"punctuation.definition.tag",settings:{foreground:"#81A1C1"}},{name:"Punctuation Definition Comment",scope:["punctuation.definition.comment","punctuation.end.definition.comment","punctuation.start.definition.comment"],settings:{foreground:"#616E88"}},{name:"Punctuation Section",scope:"punctuation.section",settings:{foreground:"#ECEFF4"}},{name:"Punctuation Section Embedded",scope:["punctuation.section.embedded.begin","punctuation.section.embedded.end"],settings:{foreground:"#81A1C1"}},{name:"Punctuation Terminator",scope:"punctuation.terminator",settings:{foreground:"#81A1C1"}},{name:"Punctuation Variable",scope:"punctuation.definition.variable",settings:{foreground:"#81A1C1"}},{name:"Storage",scope:"storage",settings:{foreground:"#81A1C1"}},{name:"String",scope:"string",settings:{foreground:"#A3BE8C"}},{name:"String Regexp",scope:"string.regexp",settings:{foreground:"#EBCB8B"}},{name:"Support Class",scope:"support.class",settings:{foreground:"#8FBCBB"}},{name:"Support Constant",scope:"support.constant",settings:{foreground:"#81A1C1"}},{name:"Support Function",scope:"support.function",settings:{foreground:"#88C0D0"}},{name:"Support Function Construct",scope:"support.function.construct",settings:{foreground:"#81A1C1"}},{name:"Support Type",scope:"support.type",settings:{foreground:"#8FBCBB"}},{name:"Support Type Exception",scope:"support.type.exception",settings:{foreground:"#8FBCBB"}},{name:"Token Debug",scope:"token.debug-token",settings:{foreground:"#b48ead"}},{name:"Token Error",scope:"token.error-token",settings:{foreground:"#bf616a"}},{name:"Token Info",scope:"token.info-token",settings:{foreground:"#88c0d0"}},{name:"Token Warning",scope:"token.warn-token",settings:{foreground:"#ebcb8b"}},{name:"Variable",scope:"variable.other",settings:{foreground:"#D8DEE9"}},{name:"Variable Language",scope:"variable.language",settings:{foreground:"#81A1C1"}},{name:"Variable Parameter",scope:"variable.parameter",settings:{foreground:"#D8DEE9"}},{name:"[C/CPP] Punctuation Separator Pointer-Access",scope:"punctuation.separator.pointer-access.c",settings:{foreground:"#81A1C1"}},{name:"[C/CPP] Meta Preprocessor Include",scope:["source.c meta.preprocessor.include","source.c string.quoted.other.lt-gt.include"],settings:{foreground:"#8FBCBB"}},{name:"[C/CPP] Conditional Directive",scope:["source.cpp keyword.control.directive.conditional","source.cpp punctuation.definition.directive","source.c keyword.control.directive.conditional","source.c punctuation.definition.directive"],settings:{foreground:"#5E81AC",fontStyle:"bold"}},{name:"[CSS] Constant Other Color RGB Value",scope:"source.css constant.other.color.rgb-value",settings:{foreground:"#B48EAD"}},{name:"[CSS](Function) Meta Property-Value",scope:"source.css meta.property-value",settings:{foreground:"#88C0D0"}},{name:"[CSS] Media Queries",scope:["source.css keyword.control.at-rule.media","source.css keyword.control.at-rule.media punctuation.definition.keyword"],settings:{foreground:"#D08770"}},{name:"[CSS] Punctuation Definition Keyword",scope:"source.css punctuation.definition.keyword",settings:{foreground:"#81A1C1"}},{name:"[CSS] Support Type Property Name",scope:"source.css support.type.property-name",settings:{foreground:"#D8DEE9"}},{name:"[diff] Meta Range Context",scope:"source.diff meta.diff.range.context",settings:{foreground:"#8FBCBB"}},{name:"[diff] Meta Header From-File",scope:"source.diff meta.diff.header.from-file",settings:{foreground:"#8FBCBB"}},{name:"[diff] Punctuation Definition From-File",scope:"source.diff punctuation.definition.from-file",settings:{foreground:"#8FBCBB"}},{name:"[diff] Punctuation Definition Range",scope:"source.diff punctuation.definition.range",settings:{foreground:"#8FBCBB"}},{name:"[diff] Punctuation Definition Separator",scope:"source.diff punctuation.definition.separator",settings:{foreground:"#81A1C1"}},{name:"[Elixir](JakeBecker.elixir-ls) module names",scope:"entity.name.type.module.elixir",settings:{foreground:"#8FBCBB"}},{name:"[Elixir](JakeBecker.elixir-ls) module attributes",scope:"variable.other.readwrite.module.elixir",settings:{foreground:"#D8DEE9",fontStyle:"bold"}},{name:"[Elixir](JakeBecker.elixir-ls) atoms",scope:"constant.other.symbol.elixir",settings:{foreground:"#D8DEE9",fontStyle:"bold"}},{name:"[Elixir](JakeBecker.elixir-ls) modules",scope:"variable.other.constant.elixir",settings:{foreground:"#8FBCBB"}},{name:"[Go] String Format Placeholder",scope:"source.go constant.other.placeholder.go",settings:{foreground:"#EBCB8B"}},{name:"[Java](JavaDoc) Comment Block Documentation HTML Entities",scope:"source.java comment.block.documentation.javadoc punctuation.definition.entity.html",settings:{foreground:"#81A1C1"}},{name:"[Java](JavaDoc) Constant Other",scope:"source.java constant.other",settings:{foreground:"#D8DEE9"}},{name:"[Java](JavaDoc) Keyword Other Documentation",scope:"source.java keyword.other.documentation",settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Keyword Other Documentation Author",scope:"source.java keyword.other.documentation.author.javadoc",settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Keyword Other Documentation Directive/Custom",scope:["source.java keyword.other.documentation.directive","source.java keyword.other.documentation.custom"],settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Keyword Other Documentation See",scope:"source.java keyword.other.documentation.see.javadoc",settings:{foreground:"#8FBCBB"}},{name:"[Java] Meta Method-Call",scope:"source.java meta.method-call meta.method",settings:{foreground:"#88C0D0"}},{name:"[Java](JavaDoc) Meta Tag Template Link",scope:["source.java meta.tag.template.link.javadoc","source.java string.other.link.title.javadoc"],settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Meta Tag Template Value",scope:"source.java meta.tag.template.value.javadoc",settings:{foreground:"#88C0D0"}},{name:"[Java](JavaDoc) Punctuation Definition Keyword",scope:"source.java punctuation.definition.keyword.javadoc",settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Punctuation Definition Tag",scope:["source.java punctuation.definition.tag.begin.javadoc","source.java punctuation.definition.tag.end.javadoc"],settings:{foreground:"#616E88"}},{name:"[Java] Storage Modifier Import",scope:"source.java storage.modifier.import",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Modifier Package",scope:"source.java storage.modifier.package",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Type",scope:"source.java storage.type",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Type Annotation",scope:"source.java storage.type.annotation",settings:{foreground:"#D08770"}},{name:"[Java] Storage Type Generic",scope:"source.java storage.type.generic",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Type Primitive",scope:"source.java storage.type.primitive",settings:{foreground:"#81A1C1"}},{name:"[JavaScript] Decorator",scope:["source.js punctuation.decorator","source.js meta.decorator variable.other.readwrite","source.js meta.decorator entity.name.function"],settings:{foreground:"#D08770"}},{name:"[JavaScript] Meta Object-Literal Key",scope:"source.js meta.object-literal.key",settings:{foreground:"#88C0D0"}},{name:"[JavaScript](JSDoc) Storage Type Class",scope:"source.js storage.type.class.jsdoc",settings:{foreground:"#8FBCBB"}},{name:"[JavaScript] String Template Literals Punctuation",scope:["source.js string.quoted.template punctuation.quasi.element.begin","source.js string.quoted.template punctuation.quasi.element.end","source.js string.template punctuation.definition.template-expression"],settings:{foreground:"#81A1C1"}},{name:"[JavaScript] Interpolated String Template Punctuation Functions",scope:"source.js string.quoted.template meta.method-call.with-arguments",settings:{foreground:"#ECEFF4"}},{name:"[JavaScript] String Template Literal Variable",scope:["source.js string.template meta.template.expression support.variable.property","source.js string.template meta.template.expression variable.other.object"],settings:{foreground:"#D8DEE9"}},{name:"[JavaScript] Support Type Primitive",scope:"source.js support.type.primitive",settings:{foreground:"#81A1C1"}},{name:"[JavaScript] Variable Other Object",scope:"source.js variable.other.object",settings:{foreground:"#D8DEE9"}},{name:"[JavaScript] Variable Other Read-Write Alias",scope:"source.js variable.other.readwrite.alias",settings:{foreground:"#8FBCBB"}},{name:"[JavaScript] Parentheses in Template Strings",scope:["source.js meta.embedded.line meta.brace.square","source.js meta.embedded.line meta.brace.round","source.js string.quoted.template meta.brace.square","source.js string.quoted.template meta.brace.round"],settings:{foreground:"#ECEFF4"}},{name:"[HTML] Constant Character Entity",scope:"text.html.basic constant.character.entity.html",settings:{foreground:"#EBCB8B"}},{name:"[HTML] Constant Other Inline-Data",scope:"text.html.basic constant.other.inline-data",settings:{foreground:"#D08770",fontStyle:"italic"}},{name:"[HTML] Meta Tag SGML Doctype",scope:"text.html.basic meta.tag.sgml.doctype",settings:{foreground:"#5E81AC"}},{name:"[HTML] Punctuation Definition Entity",scope:"text.html.basic punctuation.definition.entity",settings:{foreground:"#81A1C1"}},{name:"[INI] Entity Name Section Group-Title",scope:"source.properties entity.name.section.group-title.ini",settings:{foreground:"#88C0D0"}},{name:"[INI] Punctuation Separator Key-Value",scope:"source.properties punctuation.separator.key-value.ini",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Markup Fenced Code Block",scope:["text.html.markdown markup.fenced_code.block","text.html.markdown markup.fenced_code.block punctuation.definition"],settings:{foreground:"#8FBCBB"}},{name:"[Markdown] Markup Heading",scope:"markup.heading",settings:{foreground:"#88C0D0"}},{name:"[Markdown] Markup Inline",scope:["text.html.markdown markup.inline.raw","text.html.markdown markup.inline.raw punctuation.definition.raw"],settings:{foreground:"#8FBCBB"}},{name:"[Markdown] Markup Italic",scope:"text.html.markdown markup.italic",settings:{fontStyle:"italic"}},{name:"[Markdown] Markup Link",scope:"text.html.markdown markup.underline.link",settings:{fontStyle:"underline"}},{name:"[Markdown] Markup List Numbered/Unnumbered",scope:"text.html.markdown beginning.punctuation.definition.list",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Markup Quote Punctuation Definition",scope:"text.html.markdown beginning.punctuation.definition.quote",settings:{foreground:"#8FBCBB"}},{name:"[Markdown] Markup Quote Punctuation Definition",scope:"text.html.markdown markup.quote",settings:{foreground:"#616E88"}},{name:"[Markdown] Markup Math Constant",scope:"text.html.markdown constant.character.math.tex",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Markup Math Definition Marker",scope:["text.html.markdown punctuation.definition.math.begin","text.html.markdown punctuation.definition.math.end"],settings:{foreground:"#5E81AC"}},{name:"[Markdown] Markup Math Function Definition Marker",scope:"text.html.markdown punctuation.definition.function.math.tex",settings:{foreground:"#88C0D0"}},{name:"[Markdown] Markup Math Operator",scope:"text.html.markdown punctuation.math.operator.latex",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Punctuation Definition Heading",scope:"text.html.markdown punctuation.definition.heading",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Punctuation Definition Constant/String",scope:["text.html.markdown punctuation.definition.constant","text.html.markdown punctuation.definition.string"],settings:{foreground:"#81A1C1"}},{name:"[Markdown] String Other Link Description/Title",scope:["text.html.markdown constant.other.reference.link","text.html.markdown string.other.link.description","text.html.markdown string.other.link.title"],settings:{foreground:"#88C0D0"}},{name:"[Perl] Perl Sigils",scope:"source.perl punctuation.definition.variable",settings:{foreground:"#D8DEE9"}},{name:"[PHP] Meta Function-Call Object",scope:["source.php meta.function-call","source.php meta.function-call.object"],settings:{foreground:"#88C0D0"}},{name:"[Python] Decorator",scope:["source.python entity.name.function.decorator","source.python meta.function.decorator support.type"],settings:{foreground:"#D08770"}},{name:"[Python] Function Call",scope:"source.python meta.function-call.generic",settings:{foreground:"#88C0D0"}},{name:"[Python] Support Type",scope:"source.python support.type",settings:{foreground:"#88C0D0"}},{name:"[Python] Function Parameter",scope:["source.python variable.parameter.function.language"],settings:{foreground:"#D8DEE9"}},{name:"[Python] Function Parameter Special",scope:["source.python meta.function.parameters variable.parameter.function.language.special.self"],settings:{foreground:"#81A1C1"}},{name:"[Rust] Entity types",scope:"source.rust entity.name.type",settings:{foreground:"#8FBCBB"}},{name:"[Rust] Macro",scope:"source.rust meta.macro entity.name.function",settings:{fontStyle:"bold",foreground:"#88C0D0"}},{name:"[Rust] Attributes",scope:["source.rust meta.attribute","source.rust meta.attribute punctuation","source.rust meta.attribute keyword.operator"],settings:{foreground:"#5E81AC"}},{name:"[Rust] Traits",scope:"source.rust entity.name.type.trait",settings:{fontStyle:"bold"}},{name:"[Rust] Interpolation Bracket Curly",scope:"source.rust punctuation.definition.interpolation",settings:{foreground:"#EBCB8B"}},{name:"[SCSS] Punctuation Definition Interpolation Bracket Curly",scope:["source.css.scss punctuation.definition.interpolation.begin.bracket.curly","source.css.scss punctuation.definition.interpolation.end.bracket.curly"],settings:{foreground:"#81A1C1"}},{name:"[SCSS] Variable Interpolation",scope:"source.css.scss variable.interpolation",settings:{foreground:"#D8DEE9",fontStyle:"italic"}},{name:"[TypeScript] Decorators",scope:["source.ts punctuation.decorator","source.ts meta.decorator variable.other.readwrite","source.ts meta.decorator entity.name.function","source.tsx punctuation.decorator","source.tsx meta.decorator variable.other.readwrite","source.tsx meta.decorator entity.name.function"],settings:{foreground:"#D08770"}},{name:"[TypeScript] Object-literal keys",scope:["source.ts meta.object-literal.key","source.tsx meta.object-literal.key"],settings:{foreground:"#D8DEE9"}},{name:"[TypeScript] Object-literal functions",scope:["source.ts meta.object-literal.key entity.name.function","source.tsx meta.object-literal.key entity.name.function"],settings:{foreground:"#88C0D0"}},{name:"[TypeScript] Type/Class",scope:["source.ts support.class","source.ts support.type","source.ts entity.name.type","source.ts entity.name.class","source.tsx support.class","source.tsx support.type","source.tsx entity.name.type","source.tsx entity.name.class"],settings:{foreground:"#8FBCBB"}},{name:"[TypeScript] Static Class Support",scope:["source.ts support.constant.math","source.ts support.constant.dom","source.ts support.constant.json","source.tsx support.constant.math","source.tsx support.constant.dom","source.tsx support.constant.json"],settings:{foreground:"#8FBCBB"}},{name:"[TypeScript] Variables",scope:["source.ts support.variable","source.tsx support.variable"],settings:{foreground:"#D8DEE9"}},{name:"[TypeScript] Parentheses in Template Strings",scope:["source.ts meta.embedded.line meta.brace.square","source.ts meta.embedded.line meta.brace.round","source.tsx meta.embedded.line meta.brace.square","source.tsx meta.embedded.line meta.brace.round"],settings:{foreground:"#ECEFF4"}},{name:"[XML] Entity Name Tag Namespace",scope:"text.xml entity.name.tag.namespace",settings:{foreground:"#8FBCBB"}},{name:"[XML] Keyword Other Doctype",scope:"text.xml keyword.other.doctype",settings:{foreground:"#5E81AC"}},{name:"[XML] Meta Tag Preprocessor",scope:"text.xml meta.tag.preprocessor entity.name.tag",settings:{foreground:"#5E81AC"}},{name:"[XML] Entity Name Tag Namespace",scope:["text.xml string.unquoted.cdata","text.xml string.unquoted.cdata punctuation.definition.string"],settings:{foreground:"#D08770",fontStyle:"italic"}},{name:"[YAML] Entity Name Tag",scope:"source.yaml entity.name.tag",settings:{foreground:"#8FBCBB"}}]},autoImport:!0,showCopyButton:!0,skipLanguages:[],filepath:"/home/runner/work/modern.js/modern.js/packages/document/module-doc/docs/en/guide/basic/modify-output-product.md"},l={sidebar_position:3},c=[{id:"modify-the-output-product",text:"Modify the output product",depth:2},{id:"default-output-products",text:"Default output products",depth:2},{id:"buildpreset",text:"buildPreset",depth:2},{id:"string-form-of-build-preset",text:"String form of build preset",depth:3},{id:"build-pre-defined-function-forms",text:"Build pre-defined function forms",depth:3},{id:"build-configuration-object",text:"Build configuration (object)",depth:2},{id:"when-to-use-buildconfig",text:"When to use buildConfig",depth:2}],u="modify-output-product";function d(e){let t=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",code:"code",strong:"strong",ul:"ul",li:"li",ol:"ol",h3:"h3",blockquote:"blockquote",em:"em"},(0,r.useMDXComponents)(),e.components);return!a&&f("CH",!1),!a.Code&&f("CH.Code",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.h1,{id:"modify-output-product",children:[(0,o.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#modify-output-product",children:"#"}),"modify-output-product"]}),"\n",(0,o.jsxs)(t.h2,{id:"modify-the-output-product",children:[(0,o.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#modify-the-output-product",children:"#"}),"Modify the output product"]}),"\n",(0,o.jsxs)(t.h2,{id:"default-output-products",children:[(0,o.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#default-output-products",children:"#"}),"Default output products"]}),"\n",(0,o.jsxs)(t.p,{children:["When the ",(0,o.jsx)(t.code,{children:"modern build"})," command is used in an initialized project, the products are generated according to the default configuration supported by Module Tools. The default supported configurations are specified as follows."]}),"\n",(0,o.jsx)(a.Code,{codeConfig:s,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"import",props:{style:{color:"#81A1C1"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"moduleTools",props:{style:{color:"#D8DEE9"}}},{content:",",props:{style:{color:"#ECEFF4"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"defineConfig",props:{style:{color:"#D8DEE9"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"}",props:{style:{color:"#ECEFF4"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"from",props:{style:{color:"#81A1C1"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"'",props:{style:{color:"#ECEFF4"}}},{content:"@modern-js/module-tools",props:{style:{color:"#A3BE8C"}}},{content:"'",props:{style:{color:"#ECEFF4"}}},{content:";",props:{style:{color:"#81A1C1"}}}]},{tokens:[]},{tokens:[{content:"export",props:{style:{color:"#81A1C1"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"default",props:{style:{color:"#81A1C1"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"defineConfig",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  ",props:{style:{color:"#D8DEE9FF"}}},{content:"plugins",props:{style:{color:"#D8DEE9"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" [",props:{style:{color:"#D8DEE9FF"}}},{content:"moduleTools",props:{style:{color:"#88C0D0"}}},{content:"()]",props:{style:{color:"#D8DEE9FF"}}},{content:",",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  ",props:{style:{color:"#D8DEE9FF"}}},{content:"buildPreset",props:{style:{color:"#D8DEE9"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"'",props:{style:{color:"#ECEFF4"}}},{content:"npm-library",props:{style:{color:"#A3BE8C"}}},{content:"'",props:{style:{color:"#ECEFF4"}}},{content:",",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}},{content:")",props:{style:{color:"#D8DEE9FF"}}},{content:";",props:{style:{color:"#81A1C1"}}}]}],lang:"typescript"},annotations:[]}]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"The default generation product has the following characteristics"}),"."]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["will generate ",(0,o.jsx)(t.a,{href:"https://nodejs.org/api/modules.html#modules-commonjs-modules",target:"_blank",rel:"noopener noreferrer",children:"CommonJS"})," and [ESM](",(0,o.jsx)(t.a,{href:"https://nodejs.org/api/esm.html#modules-",target:"_blank",rel:"noopener noreferrer",children:"https://nodejs.org/api/esm.html#modules-"})," ecmascript-modules)."]}),"\n",(0,o.jsxs)(t.li,{children:["The code syntax is supported up to ",(0,o.jsx)(t.code,{children:"ES6"})," , and more advanced syntax will be converted."]}),"\n",(0,o.jsxs)(t.li,{children:["All code is packaged into one file, i.e. ",(0,o.jsx)(t.strong,{children:"bundle"})," processing is performed."]}),"\n",(0,o.jsxs)(t.li,{children:["The output root directory is the ",(0,o.jsx)(t.code,{children:"dist"})," directory under the project, and the type file output directory is ",(0,o.jsx)(t.code,{children:"dist/types"}),"."]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"You may have the following questions when you see this."}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsxs)(t.li,{children:["what is ",(0,o.jsx)(t.code,{children:"buildPreset"}),"?"]}),"\n",(0,o.jsx)(t.li,{children:"what determines these characteristics of the product?"}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["Then the next step is to first explain ",(0,o.jsx)(t.code,{children:"buildPreset"}),"."]}),"\n",(0,o.jsxs)(t.h2,{id:"buildpreset",children:[(0,o.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#buildpreset",children:"#"}),"buildPreset"]}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.code,{children:"buildPreset"})," represents one or more sets of build-related configurations prepared in advance. By using the corresponding preset values of the ",(0,o.jsx)(t.code,{children:"buildPreset"}),", you can eliminate the troublesome and complicated configuration work and get the expected product."]}),"\n",(0,o.jsxs)(t.h3,{id:"string-form-of-build-preset",children:[(0,o.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#string-form-of-build-preset",children:"#"}),"String form of build preset"]}),"\n",(0,o.jsxs)(t.p,{children:["The value of a ",(0,o.jsx)(t.strong,{children:"build preset can be in the form of a string"}),", so a build preset of this form is called a preset string."]}),"\n",(0,o.jsxs)(t.p,{children:["The module engineering solution provides generic build preset strings and corresponding variants, depending on the generic scenario in which the npm package is used. All currently supported preset strings can be viewed via the ",(0,o.jsx)(t.a,{href:"/module-tools/en/api/config/build-preset.html",children:"BuildPreset API"}),". Here is an explanation about the relationship between ",(0,o.jsx)(t.strong,{children:"generic preset strings and variants"}),"."]}),"\n",(0,o.jsxs)(t.p,{children:["Among the generic preset strings, ",(0,o.jsx)(t.code,{children:'"npm-library"'})," can be used in the scenario of developing npm packages of the library type, which is suitable for most common module type projects. When ",(0,o.jsx)(t.code,{children:'"npm-library"'})," is set, the output product of the project will have the following characteristics."]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["In the ",(0,o.jsx)(t.code,{children:"dist/lib"})," directory you will get code formatted as ",(0,o.jsx)(t.code,{children:"cjs"}),", syntax supported up to ",(0,o.jsx)(t.code,{children:"es6"})," and packaged."]}),"\n",(0,o.jsxs)(t.li,{children:["In the ",(0,o.jsx)(t.code,{children:"dist/es"})," directory, you get code in the format ",(0,o.jsx)(t.code,{children:"esm"}),", with syntax support up to ",(0,o.jsx)(t.code,{children:"es6"})," and after packaging."]}),"\n",(0,o.jsxs)(t.li,{children:["In the ",(0,o.jsx)(t.code,{children:"dist/types"})," directory, you get the type files. If it is not a TypeScript project, there is no such directory."]}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["The default string ",(0,o.jsx)(t.code,{children:'"npm-library"'})," is a variant of the original product with a modified ",(0,o.jsx)(t.strong,{children:"code syntax support"})," feature and a string naming change to ",(0,o.jsx)(t.code,{children:'"npm-library-[es5 | es2016.... . es2020 | esnext]"'}),"."]}),"\n",(0,o.jsxs)(t.p,{children:["For example, if the output product is based on the preset string ",(0,o.jsx)(t.code,{children:'"npm-library"'})," and the syntax supported by the product code is changed to ",(0,o.jsx)(t.code,{children:"es5"}),", then simply changing ",(0,o.jsx)(t.code,{children:'"npm-library"'})," to ",(0,o.jsx)(t.code,{children:'"npm-library-es5"'})," would be sufficient."]}),"\n",(0,o.jsxs)(t.h3,{id:"build-pre-defined-function-forms",children:[(0,o.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#build-pre-defined-function-forms",children:"#"}),"Build pre-defined function forms"]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"In addition to the string form, the value of a build preset can also be in the form of a function, where the specific configuration corresponding to a preset value can be printed or modified"}),"."]}),"\n",(0,o.jsx)(t.p,{children:'For example, to achieve the same effect as the preset string ``npm-library-es5"` using the form of a preset function, you can do the following.'}),"\n",(0,o.jsx)(a.Code,{codeConfig:s,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"import",props:{style:{color:"#81A1C1"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"moduleTools",props:{style:{color:"#D8DEE9"}}},{content:",",props:{style:{color:"#ECEFF4"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"defineConfig",props:{style:{color:"#D8DEE9"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"}",props:{style:{color:"#ECEFF4"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"from",props:{style:{color:"#81A1C1"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"'",props:{style:{color:"#ECEFF4"}}},{content:"@modern-js/module-tools",props:{style:{color:"#A3BE8C"}}},{content:"'",props:{style:{color:"#ECEFF4"}}},{content:";",props:{style:{color:"#81A1C1"}}}]},{tokens:[]},{tokens:[{content:"export",props:{style:{color:"#81A1C1"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"default",props:{style:{color:"#81A1C1"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"defineConfig",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  ",props:{style:{color:"#D8DEE9FF"}}},{content:"plugins",props:{style:{color:"#D8DEE9"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" [",props:{style:{color:"#D8DEE9FF"}}},{content:"moduleTools",props:{style:{color:"#88C0D0"}}},{content:"()]",props:{style:{color:"#D8DEE9FF"}}},{content:",",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  ",props:{style:{color:"#D8DEE9FF"}}},{content:"buildPreset",props:{style:{color:"#88C0D0"}}},{content:"({",props:{style:{color:"#ECEFF4"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"preset",props:{style:{color:"#D8DEE9"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"})",props:{style:{color:"#ECEFF4"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    ",props:{style:{color:"#D8DEE9FF"}}},{content:"return",props:{style:{color:"#81A1C1"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"preset",props:{style:{color:"#D8DEE9"}}},{content:".",props:{style:{color:"#ECEFF4"}}},{content:"NPM_LIBRARY",props:{style:{color:"#D8DEE9"}}},{content:".",props:{style:{color:"#ECEFF4"}}},{content:"map",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"config",props:{style:{color:"#D8DEE9"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"=>",props:{style:{color:"#81A1C1"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"      ",props:{style:{color:"#D8DEE9FF"}}},{content:"return",props:{style:{color:"#81A1C1"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"...",props:{style:{color:"#81A1C1"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:".",props:{style:{color:"#ECEFF4"}}},{content:"config",props:{style:{color:"#D8DEE9"}}},{content:",",props:{style:{color:"#ECEFF4"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"target",props:{style:{color:"#D8DEE9"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"'",props:{style:{color:"#ECEFF4"}}},{content:"es5",props:{style:{color:"#A3BE8C"}}},{content:"'",props:{style:{color:"#ECEFF4"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    ",props:{style:{color:"#D8DEE9FF"}}},{content:"}",props:{style:{color:"#ECEFF4"}}},{content:")",props:{style:{color:"#D8DEE9FF"}}},{content:";",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"  ",props:{style:{color:"#D8DEE9FF"}}},{content:"},",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}},{content:")",props:{style:{color:"#D8DEE9FF"}}},{content:";",props:{style:{color:"#81A1C1"}}}]}],lang:"typescript"},annotations:[]}]}),"\n",(0,o.jsxs)(t.p,{children:["In the above code implementation, ",(0,o.jsx)(t.code,{children:"preset.NPM_LIBRARY"})," corresponds to the preset string ",(0,o.jsx)(t.code,{children:'"npm-library"'}),", which represents the equivalent of ",(0,o.jsx)(t.code,{children:'"npm-library"'})," for multiple sets of build-related configurations. We traverse the ",(0,o.jsx)(t.code,{children:"NPM_LIBRARY"})," array, which contains multiple ",(0,o.jsx)(t.code,{children:"buildConfig"})," objects, using the ",(0,o.jsx)(t.code,{children:"map"})," method. We made a shallow copy of the original ",(0,o.jsx)(t.code,{children:"buildConfig"})," object and modified the value of the ",(0,o.jsx)(t.code,{children:"target"})," after the shallow copy, specifying it as ",(0,o.jsx)(t.code,{children:"es5"}),"."]}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsxs)(t.p,{children:["NPM_LIBRARY",(0,o.jsx)(t.code,{children:", you can check it with [BuildPreset API](/api/config/build-preset). The"}),"preset",(0,o.jsx)(t.code,{children:"object contains not only"}),"NPM_LIBRARY",(0,o.jsx)(t.code,{children:", but also other similar constants. We can not only use "}),"preset.NPM_LIBRARY",(0,o.jsx)(t.code,{children:"to get the build configuration corresponding to"}),'"npm-library"',(0,o.jsx)(t.code,{children:", but also "}),"preset['npm-library']` in this way."]}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["So what is the ",(0,o.jsx)(t.code,{children:"buildConfig"})," object here? What is the basis for the build product feature mentioned before?"]}),"\n",(0,o.jsx)(t.p,{children:"Let's explain next."}),"\n",(0,o.jsxs)(t.h2,{id:"build-configuration-object",children:[(0,o.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#build-configuration-object",children:"#"}),"Build configuration (object)"]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsxs)(t.strong,{children:[(0,o.jsx)(t.code,{children:"buildConfig"})," is a configuration object that describes how to compile and generate build products"]}),'. What was mentioned at the beginning about "',(0,o.jsx)(t.em,{children:"features of build products"}),'" are actually properties supported by ',(0,o.jsx)(t.code,{children:"buildConfig"}),". The currently supported properties cover the needs of most module type projects when building products. ",(0,o.jsx)(t.code,{children:"buildConfig"})," not only contains some properties that products have, but also contains some features needed to build products. The following is a brief list from a classification point of view."]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.strong,{children:"The basic attributes of a build product include:"})}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["Whether the product is packaged or not: the corresponding API is ",(0,o.jsx)(t.a,{href:"/module-tools/en/api/config/build-config.html#buildtype",children:(0,o.jsx)(t.code,{children:"buildConfig.buildType"})}),"."]}),"\n",(0,o.jsxs)(t.li,{children:["Product support for syntax: the corresponding API is ",(0,o.jsx)(t.a,{href:"/module-tools/en/api/config/build-config.html#target",children:(0,o.jsx)(t.code,{children:"buildConfig.target"})}),"."]}),"\n",(0,o.jsxs)(t.li,{children:["Output format: the corresponding API is ",(0,o.jsx)(t.a,{href:"/module-tools/en/api/config/build-config.html#format",children:(0,o.jsx)(t.code,{children:"buildConfig.format"})}),"."]}),"\n",(0,o.jsxs)(t.li,{children:["How the output type file is handled: the corresponding API is ",(0,o.jsx)(t.a,{href:"/module-tools/en/api/config/build-config.html#dts",children:(0,o.jsx)(t.code,{children:"buildConfig.dts"})}),"."]}),"\n",(0,o.jsxs)(t.li,{children:["How the sourceMap of the product is handled: the corresponding API is ",(0,o.jsx)(t.a,{href:"/module-tools/en/api/config/build-config.html#sourcemap",children:(0,o.jsx)(t.code,{children:"buildConfig.sourceMap"})}),"."]}),"\n",(0,o.jsxs)(t.li,{children:["The input (or source file) corresponding to the output: the corresponding API is ",(0,o.jsx)(t.a,{href:"/module-tools/en/api/config/build-config.html#input",children:(0,o.jsx)(t.code,{children:"buildConfig.input"})}),"."]}),"\n",(0,o.jsxs)(t.li,{children:["The directory of the output of the product: the corresponding API is ",(0,o.jsx)(t.a,{href:"/module-tools/en/api/config/build-config.html#outDir",children:(0,o.jsx)(t.code,{children:"buildConfig.outDir"})}),"."]}),"\n",(0,o.jsxs)(t.li,{children:["Build source directory: the corresponding API is ",(0,o.jsx)(t.a,{href:"/module-tools/en/api/config/build-config.html#sourcedir",children:(0,o.jsx)(t.code,{children:"buildConfig.sourceDir"})}),"."]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.strong,{children:"Common functions required for build products include:"})}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["Alias: The corresponding API is ",(0,o.jsx)(t.a,{href:"/module-tools/en/api/config/build-config.html#alias",children:(0,o.jsx)(t.code,{children:"buildConfig.alias"})}),"."]}),"\n",(0,o.jsxs)(t.li,{children:["Static resource handling: the corresponding API is ",(0,o.jsx)(t.a,{href:"/module-tools/en/api/config/build-config.html#asset",children:(0,o.jsx)(t.code,{children:"buildConfig.asset"})}),"."]}),"\n",(0,o.jsxs)(t.li,{children:["Third-party dependency handling: The corresponding APIs are","\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.a,{href:"/module-tools/en/api/config/build-config.html#autoexternal",children:(0,o.jsx)(t.code,{children:"buildConfig.autoExternal"})}),"."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.a,{href:"/module-tools/en/api/config/build-config.html#externals",children:(0,o.jsx)(t.code,{children:"buildConfig.externals"})}),"."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["Copy: The corresponding API is ",(0,o.jsx)(t.a,{href:"/module-tools/en/api/config/build-config.html#copy",children:(0,o.jsx)(t.code,{children:"buildConfig.copy"})}),"."]}),"\n",(0,o.jsxs)(t.li,{children:["Global variable substitution: the corresponding API is ",(0,o.jsx)(t.a,{href:"/module-tools/en/api/config/build-config.html#define",children:(0,o.jsx)(t.code,{children:"buildConfig.define"})}),"."]}),"\n",(0,o.jsxs)(t.li,{children:["Specify ",(0,o.jsx)(t.a,{href:"https://reactjs.org/blog/2020/09/22/introducing-the-new-jsx-transform.html",target:"_blank",rel:"noopener noreferrer",children:"JSX"})," compilation method, the corresponding API is [",(0,o.jsx)(t.code,{children:"buildConfig.jsx"}),"](/api/config/ build-config#jsx)."]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.strong,{children:"Some advanced properties or less frequently used functions:"})}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["Product code compression: The corresponding API is ",(0,o.jsx)(t.a,{href:"/module-tools/en/api/config/build-config.html#minify",children:(0,o.jsx)(t.code,{children:"buildConfig.minify"})}),"."]}),"\n",(0,o.jsxs)(t.li,{children:["Code splitting: ",(0,o.jsx)(t.a,{href:"/module-tools/en/api/config/build-config.html#splitting",children:(0,o.jsx)(t.code,{children:"buildConfig.splitting"})})]}),"\n",(0,o.jsxs)(t.li,{children:["Specify whether the build product is for the NodeJS environment or the browser environment: the corresponding API is ",(0,o.jsx)(t.a,{href:"/module-tools/en/api/config/build-config.html#platform",children:(0,o.jsx)(t.code,{children:"buildConfig.platform"})}),"."]}),"\n",(0,o.jsxs)(t.li,{children:["umd product-related.","\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["Specifies the global variables imported externally to the umd product: the corresponding API is ",(0,o.jsx)(t.a,{href:"/module-tools/en/api/config/build-config.html#umdglobals",children:(0,o.jsx)(t.code,{children:"buildConfig.umdGlobals"})}),"."]}),"\n",(0,o.jsxs)(t.li,{children:["Specify the module name of the umd product: the corresponding API is ",(0,o.jsx)(t.a,{href:"/module-tools/en/api/config/build-config.html#umdmodulename",children:(0,o.jsx)(t.code,{children:"buildConfig.umdModuleName"})}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"In addition to the above categories, frequently asked questions and best practices about these APIs can be found at the following links"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["[What are ",(0,o.jsx)(t.code,{children:"bundle"})," and ",(0,o.jsx)(t.code,{children:"bundleless"}),"?](/guide/advance/in-depth-about-build#bundle- and-bundleless)"]}),"\n",(0,o.jsxs)(t.li,{children:["[Relationship of ",(0,o.jsx)(t.code,{children:"input"})," to ",(0,o.jsx)(t.code,{children:"sourceDir"}),"](/guide/advance/in-depth-about-build#input- to -sourcedir-)"]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.a,{href:"/module-tools/en/guide/advance/in-depth-about-build.html#type-files",children:"Multiple ways to generate type files in product"}),"."]}),"\n",(0,o.jsxs)(t.li,{children:["[",(0,o.jsx)(t.code,{children:"buildConfig.define"})," Different ways to use it for different scenarios.](/guide/advance/in-depth-about-build#buildconfigdefine - How to use it for different scenarios)"]}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"/module-tools/en/guide/advance/external-dependency.html",children:"How to handle third-party dependencies?"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"/module-tools/en/guide/advance/copy.html",children:"How to use copy?"})}),"\n",(0,o.jsx)(t.li,{children:"How do I build umd products? (/guide/advance/build-umd# sets the global variable name of the project)"}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"/module-tools/en/guide/advance/asset.html",children:"The capabilities currently supported by static resources."})}),"\n"]}),"\n",(0,o.jsxs)(t.h2,{id:"when-to-use-buildconfig",children:[(0,o.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#when-to-use-buildconfig",children:"#"}),"When to use ",(0,o.jsx)(t.code,{children:"buildConfig"})]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.code,{children:"buildConfig"})," is one of the methods used to modify the product, ",(0,o.jsxs)(t.strong,{children:["only ",(0,o.jsx)(t.code,{children:"buildConfig"})," will take effect when configured in conjunction with ",(0,o.jsx)(t.code,{children:"buildPreset"})]}),". So if configured as follows."]}),"\n",(0,o.jsx)(a.Code,{codeConfig:s,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"import",props:{style:{color:"#81A1C1"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"defineConfig",props:{style:{color:"#D8DEE9"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"}",props:{style:{color:"#ECEFF4"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"from",props:{style:{color:"#81A1C1"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"'",props:{style:{color:"#ECEFF4"}}},{content:"@modern-js/module-tools",props:{style:{color:"#A3BE8C"}}},{content:"'",props:{style:{color:"#ECEFF4"}}},{content:";",props:{style:{color:"#81A1C1"}}}]},{tokens:[]},{tokens:[{content:"export",props:{style:{color:"#81A1C1"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"default",props:{style:{color:"#81A1C1"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"defineConfig",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  ",props:{style:{color:"#D8DEE9FF"}}},{content:"buildConfig",props:{style:{color:"#D8DEE9"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    ",props:{style:{color:"#D8DEE9FF"}}},{content:"format",props:{style:{color:"#D8DEE9"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"'",props:{style:{color:"#ECEFF4"}}},{content:"umd",props:{style:{color:"#A3BE8C"}}},{content:"'",props:{style:{color:"#ECEFF4"}}},{content:",",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  ",props:{style:{color:"#D8DEE9FF"}}},{content:"},",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  ",props:{style:{color:"#D8DEE9FF"}}},{content:"buildPreset",props:{style:{color:"#D8DEE9"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" ",props:{style:{color:"#D8DEE9FF"}}},{content:"'",props:{style:{color:"#ECEFF4"}}},{content:"npm-library",props:{style:{color:"#A3BE8C"}}},{content:"'",props:{style:{color:"#ECEFF4"}}},{content:",",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}},{content:")",props:{style:{color:"#D8DEE9FF"}}},{content:";",props:{style:{color:"#81A1C1"}}}]}],lang:"typescript"},annotations:[]}]}),"\n",(0,o.jsx)(t.p,{children:"Then at this point you will see the following prompt."}),"\n",(0,o.jsx)(a.Code,{codeConfig:s,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"Since both ",props:{style:{color:"#D8DEE9FF"}}},{content:"'",props:{style:{color:"#ECEFF4"}}},{content:"buildConfig",props:{style:{color:"#A3BE8C"}}},{content:"'",props:{style:{color:"#ECEFF4"}}},{content:" and ",props:{style:{color:"#D8DEE9FF"}}},{content:"'",props:{style:{color:"#ECEFF4"}}},{content:"buildPreset",props:{style:{color:"#A3BE8C"}}},{content:"'",props:{style:{color:"#ECEFF4"}}},{content:" are present, only the ",props:{style:{color:"#D8DEE9FF"}}},{content:"'",props:{style:{color:"#ECEFF4"}}},{content:"buildConfig",props:{style:{color:"#A3BE8C"}}},{content:"'",props:{style:{color:"#ECEFF4"}}},{content:" configuration will take effect",props:{style:{color:"#D8DEE9FF"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,o.jsxs)(t.p,{children:["The set or sets of build-related configurations represented by ",(0,o.jsx)(t.code,{children:"buildPreset"})," are composed of ",(0,o.jsx)(t.code,{children:"buildConfig"}),", ",(0,o.jsx)(t.strong,{children:"which can be used to customize output products"})," when the current project needs cannot be met using ",(0,o.jsx)(t.code,{children:"buildPreset"}),"."]}),"\n",(0,o.jsxs)(t.p,{children:["The process of using ",(0,o.jsx)(t.code,{children:"buildConfig"})," is the process of thinking about ",(0,o.jsx)(t.strong,{children:"what kind of build product to get"}),"."]})]})}var p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}=Object.assign({},(0,r.useMDXComponents)(),e.components);return t?(0,o.jsx)(t,Object.assign({},e,{children:(0,o.jsx)(d,e)})):d(e)};function f(e,t){throw Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},98691:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{Code:function(){return tg},CodeSlot:function(){return tR},Preview:function(){return tI},Spotlight:function(){return t_},annotations:function(){return tG}});var o,r,i,a,s=n.ir(n("16725")),l=n.ir(n("31866")),c=n.ir(n("93989")),u=n("13904");function d(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)0>t.indexOf(o[r])&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n}let p=e=>/^#([A-Fa-f0-9]{3,4}){1,2}$/.test(e),f=(e,t)=>e.match(RegExp(".{".concat(t,"}"),"g")),g=e=>parseInt(e.repeat(2/e.length),16);function h(e,t){if(!e)return e;let{r:n,g:o,b:r,a:i}=function(e){var t,n;if(!e)return;if(!p(e))throw Error("Invalid color string, must be a valid hex color");let o=Math.floor((e.length-1)/3),r=f(e.slice(1),o),[i,a,s,l]=r.map(g);return{r:i,g:a,b:s,a:(n=1,void 0!==(t=l)?t/255:"number"!=typeof n||n<0||n>1?1:n)}}(e);return function(e){if(!e)return;let{r:t,g:n,b:o,a:r}=e;return"#".concat(t.toString(16).padStart(2,"0")).concat(n.toString(16).padStart(2,"0")).concat(o.toString(16).padStart(2,"0")).concat(Math.round(255*r).toString(16).padStart(2,"0"))}({r:n,g:o,b:r,a:i*t})}function m(e,t){return{prev:t(e.prev,"prev"),next:t(e.next,"next")}}function b(e,t){return{prev:(null==e?void 0:e.prev)===void 0?t:e.prev,next:(null==e?void 0:e.next)===void 0?t:e.next}}function v(e,t,n){return m(b(e,t),n)}function y(e){return e.lines.map(e=>e.tokens.map(e=>e.content).join("")).join("\n")}function E(e){return e.split(/,(?![^\[]*\])/g)}function x(e){return e.reduce((e,t)=>Object.assign(e,t),{})}function k(e){let t=e.match(/(\d+)\[(.+)\]/);if(!t)return x(B(e).map(e=>({[e]:!0})));{let[,e,n]=t,o=n.split(",").map(F),r=Number(e);return{[r]:o}}}function F(e){let[t,n]=e.split(":");if(!w(t))throw new S(t);let o=Number(t);if(o<1)throw new D;if(!n)return{start:o,end:o};if(!w(n))throw new S(n);return{start:o,end:+n}}function j(e){if(!e)throw Error("Focus cannot be empty");try{let t=e.split(/,(?![^\[]*\])/g).map(C);return function(e){let t={},n=-1,o=null==e?0:e.length;for(;++n<o;){var r=e[n];t[r[0]]=r[1]}return t}(t.flat())}catch(e){throw e}}function C(e){let t=e.match(/(\d+)\[(.+)\]/);if(!t)return B(e).map(e=>[e-1,!0]);{let[,e,n]=t,o=n.split(",").map(B),r=Number(e)-1,i=o.flat().map(e=>e-1);return[[r,i]]}}function B(e){let[t,n]=e.split(":");if(!w(t))throw new S(t);let o=Number(t);if(o<1)throw new D;if(!n)return[o];{if(!w(n))throw new S(n);let e=[];for(let t=o;t<=+n;t++)e.push(t);return e}}function w(e){var t=Math.abs(e=e.toString()),n=parseInt(e,10);return!isNaN(t)&&n===t&&t.toString()===e}class D extends Error{constructor(){super("Invalid line or column number in focus string"),Object.setPrototypeOf(this,new.target.prototype)}}class S extends Error{constructor(e){super('Invalid number "'.concat(e,'" in focus string')),this.number=e,Object.setPrototypeOf(this,new.target.prototype)}}(o=i||(i={}))[o.CodeForeground=0]="CodeForeground",o[o.CodeBackground=1]="CodeBackground",o[o.EditorForeground=2]="EditorForeground",o[o.EditorBackground=3]="EditorBackground",o[o.FocusBorder=4]="FocusBorder",o[o.ActiveTabBackground=5]="ActiveTabBackground",o[o.ActiveTabForeground=6]="ActiveTabForeground",o[o.InactiveTabBackground=7]="InactiveTabBackground",o[o.InactiveTabForeground=8]="InactiveTabForeground",o[o.EditorGroupBorder=9]="EditorGroupBorder",o[o.EditorGroupHeaderBackground=10]="EditorGroupHeaderBackground",o[o.TabBorder=11]="TabBorder",o[o.ActiveTabBottomBorder=12]="ActiveTabBottomBorder",o[o.LineNumberForeground=13]="LineNumberForeground",o[o.InputForeground=14]="InputForeground",o[o.InputBackground=15]="InputBackground",o[o.InputBorder=16]="InputBorder",o[o.SelectionBackground=17]="SelectionBackground",o[o.IconForeground=18]="IconForeground",o[o.ListActiveSelectionBackground=19]="ListActiveSelectionBackground",o[o.ListActiveSelectionForeground=20]="ListActiveSelectionForeground",o[o.ListHoverBackground=21]="ListHoverBackground",o[o.ListHoverForeground=22]="ListHoverForeground",o[o.SideBarBackground=23]="SideBarBackground",o[o.SideBarForeground=24]="SideBarForeground",o[o.SideBarBorder=25]="SideBarBorder",o[o.LineHighlightBackground=26]="LineHighlightBackground",o[o.RangeHighlightBackground=27]="RangeHighlightBackground",o[o.EditorInfoForeground=28]="EditorInfoForeground";let O="#6FC3DF";function N(e,t){var n,o;let r=e.colors||{};switch(t){case i.CodeForeground:return(null===(n=M(e))||void 0===n?void 0:n.foreground)||N(e,i.EditorForeground);case i.CodeBackground:return(null===(o=M(e))||void 0===o?void 0:o.background)||N(e,i.EditorBackground);case i.EditorBackground:return r["editor.background"]||A(e,{light:"#fffffe",dark:"#1E1E1E",hc:"#000000"});case i.EditorForeground:return r["editor.foreground"]||A(e,{light:"#333333",dark:"#BBBBBB",hc:"#fffffe"});case i.FocusBorder:return r.focusBorder||A(e,{light:"#0090F1",dark:"#007FD4",hc:O});case i.ActiveTabBackground:return r["tab.activeBackground"]||N(e,i.EditorBackground);case i.ActiveTabForeground:return r["tab.activeForeground"]||A(e,{dark:"#ffffff",light:"#333333",hc:"#ffffff"});case i.InactiveTabBackground:return r["tab.inactiveBackground"]||A(e,{dark:"#2D2D2D",light:"#ECECEC",hc:void 0});case i.InactiveTabForeground:return r["tab.inactiveForeground"]||A(e,{dark:h(N(e,i.ActiveTabForeground),.5),light:h(N(e,i.ActiveTabForeground),.7),hc:"#ffffff"});case i.TabBorder:return r["tab.border"]||A(e,{dark:"#252526",light:"#F3F3F3",hc:O});case i.ActiveTabBottomBorder:return r["tab.activeBorder"]||N(e,i.ActiveTabBackground);case i.EditorGroupBorder:return r["editorGroup.border"]||A(e,{dark:"#444444",light:"#E7E7E7",hc:O});case i.EditorGroupHeaderBackground:return r["editorGroupHeader.tabsBackground"]||A(e,{dark:"#252526",light:"#F3F3F3",hc:void 0});case i.LineNumberForeground:return r["editorLineNumber.foreground"]||A(e,{dark:"#858585",light:"#237893",hc:"#fffffe"});case i.InputBackground:return r["input.background"]||A(e,{dark:"#3C3C3C",light:"#fffffe",hc:"#000000"});case i.InputForeground:return r["input.foreground"]||N(e,i.EditorForeground);case i.InputBorder:return r["input.border"]||A(e,{dark:void 0,light:void 0,hc:O});case i.SelectionBackground:return r["editor.selectionBackground"]||A(e,{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"});case i.IconForeground:return r["icon.foreground"]||A(e,{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"});case i.SideBarBackground:return r["sideBar.background"]||A(e,{dark:"#252526",light:"#F3F3F3",hc:"#000000"});case i.SideBarForeground:return r["sideBar.foreground"]||N(e,i.EditorForeground);case i.SideBarBorder:return r["sideBar.border"]||N(e,i.SideBarBackground);case i.ListActiveSelectionBackground:return r["list.activeSelectionBackground"]||A(e,{dark:"#094771",light:"#0060C0",hc:"#000000"});case i.ListActiveSelectionForeground:return r["list.activeSelectionForeground"]||A(e,{dark:"#fffffe",light:"#fffffe",hc:"#fffffe"});case i.ListHoverBackground:return r["list.hoverBackground"]||A(e,{dark:"#2A2D2E",light:"#F0F0F0",hc:void 0});case i.ListHoverForeground:return r["list.hoverForeground"]||void 0;case i.LineHighlightBackground:return r["editor.lineHighlightBackground"]||A(e,{dark:void 0,light:void 0,hc:void 0});case i.RangeHighlightBackground:return r["editor.rangeHighlightBackground"]||A(e,{dark:"#ffffff0b",light:"#fdff0033",hc:void 0});case i.EditorInfoForeground:return r["editor.infoForeground"]||A(e,{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"});default:return"#f00"}}function P(e){let t=T(e);return"dark"===t?"dark":"light"===t?"light":void 0}function A(e,t){return t[T(e)]}function T(e){var t;return e.type?e.type:(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes("light"))?"light":"dark"}function M(e){let t=e.settings?e.settings:e.tokenColors,n=t?t.find(e=>!e.name&&!e.scope):void 0;return null==n?void 0:n.settings}let I="undefined"!=typeof window?c.default.useLayoutEffect:c.default.useEffect,H=/\r\n|\r|\n/;function L(e,t){let n=e?e.split(H):[""],o=function(e,t){if(!e)return[...t.keys()];{let t=j(e),n=Object.keys(t).map(e=>parseInt(e,10));return n}}(t,n),r="";return n.forEach((e,t)=>{o.includes(t)&&e.length>r.length&&(r=e)}),r}function _(e){let t=getComputedStyle(e);return parseFloat(t.width)-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)}function R(e){if(!e)return null;let t=getComputedStyle(e);return parseFloat(t.height)-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)}function W(){}W.prototype={diff:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.callback;"function"==typeof n&&(o=n,n={}),this.options=n;var r=this;function i(e){return o?(setTimeout(function(){o(void 0,e)},0),!0):e}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e));var a=(t=this.removeEmpty(this.tokenize(t))).length,s=e.length,l=1,c=a+s,u=[{newPos:-1,components:[]}],d=this.extractCommon(u[0],t,e,0);if(u[0].newPos+1>=a&&d+1>=s)return i([{value:this.join(t),count:t.length}]);function p(){for(var n=-1*l;n<=l;n+=2){var o=void 0,c=u[n-1],d=u[n+1],p=(d?d.newPos:0)-n;c&&(u[n-1]=void 0);var f=c&&c.newPos+1<a,g=d&&0<=p&&p<s;if(!f&&!g){u[n]=void 0;continue}if(!f||g&&c.newPos<d.newPos?(o=function(e){return{newPos:e.newPos,components:e.components.slice(0)}}(d),r.pushComponent(o.components,void 0,!0)):(o=c,o.newPos++,r.pushComponent(o.components,!0,void 0)),p=r.extractCommon(o,t,e,n),o.newPos+1>=a&&p+1>=s)return i(function(e,t,n,o,r){for(var i=0,a=t.length,s=0,l=0;i<a;i++){var c=t[i];if(c.removed){if(c.value=e.join(o.slice(l,l+c.count)),l+=c.count,i&&t[i-1].added){var u=t[i-1];t[i-1]=t[i],t[i]=u}}else{if(!c.added&&r){var d=n.slice(s,s+c.count);d=d.map(function(e,t){var n=o[l+t];return n.length>e.length?n:e}),c.value=e.join(d)}else c.value=e.join(n.slice(s,s+c.count));s+=c.count,!c.added&&(l+=c.count)}}var p=t[a-1];return a>1&&"string"==typeof p.value&&(p.added||p.removed)&&e.equals("",p.value)&&(t[a-2].value+=p.value,t.pop()),t}(r,o.components,t,e,r.useLongestToken));u[n]=o}l++}if(o)!function e(){setTimeout(function(){if(l>c)return o();!p()&&e()},0)}();else for(;l<=c;){var f=p();if(f)return f}},pushComponent:function(e,t,n){var o=e[e.length-1];o&&o.added===t&&o.removed===n?e[e.length-1]={count:o.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,o){for(var r=t.length,i=n.length,a=e.newPos,s=a-o,l=0;a+1<r&&s+1<i&&this.equals(t[a+1],n[s+1]);)a++,s++,l++;return l&&e.components.push({count:l}),e.newPos=a,s},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};var z=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,G=/\S/,q=new W;q.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!G.test(e)&&!G.test(t)},q.tokenize=function(e){for(var t=e.split(/(\s+|[()[\]{}'"]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&z.test(t[n])&&z.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var J=new W;J.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);!n[n.length-1]&&n.pop();for(var o=0;o<n.length;o++){var r=n[o];o%2&&!this.options.newlineIsToken?t[t.length-1]+=r:(this.options.ignoreWhitespace&&(r=r.trim()),t.push(r))}return t};function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}new W().tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)},new W().tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var $=Object.prototype.toString,X=new W;X.useLongestToken=!0,X.tokenize=J.tokenize,X.castInput=function(e){var t=this.options,n=t.undefinedReplacement,o=t.stringifyReplacer,r=void 0===o?function(e,t){return void 0===t?n:t}:o;return"string"==typeof e?e:JSON.stringify(function e(t,n,o,r,i){for(n=n||[],o=o||[],r&&(t=r(i,t)),a=0;a<n.length;a+=1)if(n[a]===t)return o[a];if("[object Array]"===$.call(t)){for(n.push(t),s=Array(t.length),o.push(s),a=0;a<t.length;a+=1)s[a]=e(t[a],n,o,r,i);return n.pop(),o.pop(),s}if(t&&t.toJSON&&(t=t.toJSON()),"object"===V(t)&&null!==t){n.push(t),s={},o.push(s);var a,s,l,c=[];for(l in t)t.hasOwnProperty(l)&&c.push(l);for(c.sort(),a=0;a<c.length;a+=1)s[l=c[a]]=e(t[l],n,o,r,l);n.pop(),o.pop()}else s=t;return s}(e,null,null,r),r,"  ")},X.equals=function(e,t){return W.prototype.equals.call(X,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};var U=new W;U.tokenize=function(e){return e.slice()},U.join=U.removeEmpty=function(e){return e};function K(e,t){return Array.isArray(t)?t.some(t=>{let{start:n,end:o}=t;return n-1<=e&&e<o}):t}function Y(e,t){return t.find(t=>{let{columnNumbers:n}=t;return n.start-1<=e&&e<n.end})}function Q(e,t){if(!0===e.fixed)return e.value;{let[n,o]=e.interval,[r,i]=e.extremes;if(t<n)return r;if(t>o)return i;let a=e.ease||ee.linear;return r+a((t-n)/(o-n))*(i-r)}}function Z(e,t,n){let[o,r]=e;if(n<=1)return[o,r];let i=r-o,a=i/Math.pow(n,1/8),s=o+(i-a)/(n-1)*t;return[s,s+a]}let ee={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}};function et(e){return!!e.focus.match(/(\d+)\[(.+)\]/)}function en(e,t,n){let o=[...t];o.sort((e,t)=>e.lineNumbers.start-t.lineNumbers.start);let r=0,i=[];for(;r<e.length;){let t=o[0],a=e[r];if(t&&n(a)>t.lineNumbers.start)throw"Code Hike can't handle two annotations for the same line";if(t&&n(a)===t.lineNumbers.start){let s={lines:[],annotation:t};for(;a&&(!n(a)||n(a)<=t.lineNumbers.end);)s.lines.push(a),a=e[++r];i.push(s),o.shift()}else if(t){let o={lines:[]};for(;a&&(!n(a)||n(a)<t.lineNumbers.start);)o.lines.push(a),a=e[++r];i.push(o)}else i.push({lines:e.slice(r)}),r=e.length}return i}function eo(e,t,n){let o=[],r=t;for(;r<n&&e.length>0;){let t=e.shift();o.push(t);let n=t.tokens.reduce((e,t)=>e+t.content.length,0);r+=n}return o}function er(e){let{dimensions:t,codeStep:n,children:o,minZoom:r=0,maxZoom:i=1.2,center:a=!1,progress:s}=e,{prev:l,next:u}=function(e){var{codeStep:t}=e,n=d(e,["codeStep"]);let{lineHeight:o,lineWidth:r}=n.dimensions,i={prev:{extremes:[t.firstFocusedLineNumber.prev-1,t.lastFocusedLineNumber.prev-1],originalContentHeight:t.lineCount.prev*o,lineWidth:r[0]},next:{extremes:[t.firstFocusedLineNumber.next-1,t.lastFocusedLineNumber.next-1],originalContentHeight:t.lineCount.next*o,lineWidth:r[1]}};return m(i,e=>{let{extremes:t,originalContentHeight:o,lineWidth:r}=e;return function(e){let{dimensions:t,lineWidth:n,minZoom:o,maxZoom:r,extremes:i,originalContentHeight:a,horizontalCenter:s}=e,{lineHeight:l}=t,c=null==t?void 0:t.contentHeight,u=null==t?void 0:t.contentWidth,d=(i[1]-i[0]+3)*l,p=(null==t?void 0:t.lineNumberWidth)||16,f=Math.max(Math.min((u-p-16)/n,c/d,r),o),g=a*f,h=(i[0]-1)*l*f,m=(i[1]+2)*l*f,b=c>g?(c-g)/2:function(e,t,n){return e<=t?t:e>=n?n:e}(c/2-(m+h)/2,Math.max(c-g,-h),0);return{zoom:f,dx:s?Math.max(u/2-n*f/2,0):0,dy:b,focusHeight:m-h,focusWidth:n*f}}(Object.assign({extremes:t,originalContentHeight:o,lineWidth:r},n))})}({codeStep:n,dimensions:t,minZoom:r,maxZoom:i,horizontalCenter:a}),p=es(l.zoom,u.zoom,s),f=es(l.dx,u.dx,s),g=es(l.dy,u.dy,s,n.verticalInterval),h=es(l.focusHeight,u.focusHeight,s),b=es(l.focusWidth,u.focusWidth,s),v=((null==t?void 0:t.lineNumberWidth)||0)*p,y=v||16,E=Math.max(b+y,t.contentWidth);return c.default.createElement(ei,{width:t.containerWidth,height:t.containerHeight,lang:n.lang},c.default.createElement(ea,{dx:f,dy:g,scale:p,height:Math.max(h,t.contentHeight),width:E},o(b,y/p)))}function ei(e){let{width:t,height:n,children:o,lang:r}=e;return c.default.createElement("code",{style:{width:t,height:n,position:"relative",overflow:"auto"},className:"ch-code-scroll-parent",children:o,"data-ch-lang":r})}function ea(e){let{dx:t,dy:n,scale:o,height:r,width:i,children:a}=e;return c.default.createElement("div",{style:{position:"absolute",top:0,left:0,transformOrigin:"top left",width:i,height:r,overflow:"hidden"},className:"ch-code-scroll-content"},c.default.createElement("div",{style:{position:"absolute",top:0,left:0,transform:"translateX(".concat(t,"px) translateY(").concat(n,"px) scale(").concat(o,")"),transformOrigin:"left top",width:i/o,height:(r-2*n)/o},children:a}))}function es(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,1];return Q({fixed:!1,interval:o,extremes:[e,t],ease:ee.easeInOutCubic},n)}function el(e){return c.default.createElement(er,Object.assign({},e),(t,n)=>c.default.createElement(ec,{codeStep:e.codeStep,focusWidth:t,lineHeight:e.dimensions.lineHeight,progress:e.progress,theme:e.theme,startX:n,lineNumberWidth:e.dimensions.lineNumberWidth}))}function ec(e){let{codeStep:t,progress:n,focusWidth:o,lineHeight:r,startX:i,theme:a,lineNumberWidth:s}=e,l=n<.5?t.groups.prev:t.groups.next;return c.default.createElement(c.default.Fragment,null,l.map((e,t)=>{if(!e.annotation)return c.default.createElement(eu,{lines:e.lines,t:n,focusWidth:o,lineHeight:r,startX:i,key:t,theme:a,lineNumberWidth:s});let l=Q(e.lines[0].tweenY,n),u=e.annotation.lineNumbers.end-e.annotation.lineNumbers.start+1,d=e.annotation.Component;return c.default.createElement(d,{style:{position:"absolute",height:u*r,width:"100%",transform:"translateY(".concat(l*r,"px)")},key:t,data:e.annotation.data,theme:e.annotation.theme,isInline:!1},c.default.createElement(eu,{lines:e.lines,t:n,focusWidth:o,lineHeight:r,startY:l,startX:i,theme:a,lineNumberWidth:s}))}))}function eu(e){let{lines:t,focusWidth:n,lineHeight:o,t:r,startX:a,startY:s=0,theme:l,lineNumberWidth:u}=e;return c.default.createElement(c.default.Fragment,null,t.map((e,t)=>{let{tweenX:d,tweenY:p,focused:f}=e,g=Q(d,r),h=Q(p,r),m=eg(f,r,g);return c.default.createElement(c.default.Fragment,{key:t},u?c.default.createElement("span",{className:"ch-code-line-number",style:{position:"absolute",top:0,left:0,transform:"translate(".concat(g*n,"px, ").concat((h-s)*o,"px)"),width:u,opacity:m,color:N(l,i.LineNumberForeground)}},r<.5?e.lineNumber.prev:e.lineNumber.next):void 0,c.default.createElement(ef,{dx:a+g*n,dy:(h-s)*o,width:n,opacity:m},c.default.createElement(ed,{line:e,progress:r,dx:g})))}))}function ed(e){let{line:t,progress:n,dx:o}=e;return c.default.createElement("div",{style:{display:"inline-block",width:"100%"}},t.annotatedGroups.map((e,t)=>c.default.createElement(ep,{annotatedGroup:e,progress:n,dx:o,key:t})),c.default.createElement("br",null))}function ep(e){var t,n,o;let{annotatedGroup:r,progress:i,dx:a}=e,s=i<.5?r.prev:r.next,l=(null==s?void 0:s.groups)||[],u=null===(t=null==s?void 0:s.annotation)||void 0===t?void 0:t.Component,d=l.map((e,t)=>{let n=eg(e.focused,i,a);return c.default.createElement("span",{style:{opacity:n},key:t+1},e.element)});return u?c.default.createElement(u,{children:d,data:null===(n=null==s?void 0:s.annotation)||void 0===n?void 0:n.data,theme:null===(o=null==s?void 0:s.annotation)||void 0===o?void 0:o.theme,isInline:!0}):c.default.createElement(c.default.Fragment,null,d)}function ef(e){let{children:t,dx:n,dy:o,opacity:r,width:i}=e;return c.default.createElement("div",{style:{position:"absolute",top:0,left:0,transform:"translate(".concat(n,"px, ").concat(o,"px)"),width:i,display:r<=0?"none":void 0}},t)}function eg(e,t,n){return Q({fixed:!1,extremes:[e.prev?.99:.33,e.next?.99:.33],interval:[0,1]},t)-1*Math.abs(n)}function eh(e){let{content:t,style:n,className:o}=e,[r,i]=c.default.useState(!1);return c.default.createElement("svg",{style:n,onClick:()=>{(function(e){if(!navigator.clipboard){(function(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(e){}document.body.removeChild(t)})(e);return}navigator.clipboard.writeText(e)})(t),i(!0),setTimeout(()=>{i(!1)},1200)},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:o},c.default.createElement("title",null,"Copy"),r?c.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}):c.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.6px",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"}))}function em(e){var{tween:t,progress:n,config:o}=e,r=d(e,["tween","progress","config"]);let i=function(e){var t,n;let{tween:o,theme:r}=e;return function(e){let{highlightedLines:t,theme:n,focus:o}=e;return c.default.useMemo(()=>(function(e){let{theme:t,focus:n,annotations:o,highlightedLines:r,lang:i}=e,a=function(e){return m(e,e=>e.map(e=>e.tokens.map(e=>e.content).join("")).join("\n").trimEnd().concat("\n"))}(r),s=function(e,t){return function(e,t){let n=0,o=0,r=function(e){var t,n,o;let r=(t=e.prev,n=e.next,J.diff(t,n,void 0)),i=[],a=0,s=0;return r.forEach(e=>{if(e.added)for(let t=0;t<e.count;t++)i.push({next:s++});else if(e.removed)for(let t=0;t<e.count;t++)i.push({prev:a++});else for(let t=0;t<e.count;t++)i.push({prev:a++,next:s++})}),i}(e),i=r.map(e=>void 0===e.next?Object.assign(Object.assign({},t.prev[e.prev]),{lineNumber:{prev:e.prev+1},move:"exit",enterIndex:null,exitIndex:o++}):void 0===e.prev?Object.assign(Object.assign({},t.next[e.next]),{lineNumber:{next:e.next+1},move:"enter",enterIndex:n++,exitIndex:null}):Object.assign(Object.assign({},t.prev[e.prev]),{lineNumber:{prev:e.prev+1,next:e.next+1},move:"stay",enterIndex:null,exitIndex:null}));return{lines:i,enterCount:n,exitCount:o}}(e,t)}(a,r),{inlineAnnotations:l,multilineAnnotations:u}=function(e,t){return function(e,t){var n,o,r,i,a,s,l,u,d;let p=(n=e,o=[],r=e=>e.flatMap(e=>E(e.focus).map(t=>Object.assign(Object.assign({},e),{focus:t}))),m(b(n,o),r));let f=(i=p,a=[],s=e=>e.filter(et),m(b(i,a),s));let g=(l=p,u=[],d=e=>e.filter(e=>!et(e)),m(b(l,u),d));return{inlineAnnotations:m(f,e=>(function(e,t){let n={};return e.forEach(e=>{let o=k(e.focus),r=+Object.keys(o)[0],i=o[r],a=n[r]||[];a.push({columnNumbers:i[0],data:e.data,theme:t,Component:e.Component||function(e,t){return e=>{let{children:t}=e;return c.default.createElement("span",{style:{outline:"red 1px solid"}},t)}}()}),n[r]=a}),n})(e,t)),multilineAnnotations:m(g,e=>(function(e,t){return e.map(e=>({lineNumbers:F(e.focus),data:e.data,theme:t,Component:e.Component||function(e,t){let n=t.colors["editor.lineHighlightBackground"]||t.colors["editor.selectionHighlightBackground"];return e=>{let{children:t,style:o}=e;return c.default.createElement("div",{style:Object.assign(Object.assign({},o),{background:n,cursor:"pointer"}),onClick:e=>alert("clicked"),className:"ch-code-bg-annotation"},c.default.createElement("span",{className:"ch-code-bg-annotation-border",style:{background:"#00a2d3",width:"3px",height:"100%",position:"absolute",left:0}}),t)}}(e,t)}))})(e,t))}}(e,t)}(o,t),p=function(e,t,n){return function(e,t,n){let{lines:o}=e,r=d(e,["lines"]),i=m(t,(e,t)=>{var n,r;let i="prev"===t?o.filter(e=>"enter"!==e.move):o.filter(e=>"exit"!==e.move);return n=e,r=i,n?x(E(n).map(k)):x([...r.keys()].map(e=>({[e+1]:!0})))}),a=o.map(e=>{let{tokens:t}=e,o=d(e,["tokens"]),r={prev:!!e.lineNumber.prev&&i.prev[e.lineNumber.prev],next:!!e.lineNumber.next&&i.next[e.lineNumber.next]},a={prev:e.lineNumber.prev&&n.prev[e.lineNumber.prev]||[],next:e.lineNumber.next&&n.next[e.lineNumber.next]||[]};return Object.assign({focused:m(r,e=>!!e),groups:function(e,t,n){let o=m(t,e=>Array.isArray(e)?e:[]),r=m(n,e=>e.map(e=>{let{columnNumbers:t}=e;return t})),i=[...o.prev,...o.next,...r.prev,...r.next],a=function(e,t){let n=[...t.map(e=>e.start-1),...t.map(e=>e.end)],o=e;return n.forEach(e=>{let t=[],n=0;o.forEach(o=>{let r=n,i=n+o.content.length;if(r<e&&e<i){let n=e-r,i=o.content.slice(0,n),a=o.content.slice(n);t.push(Object.assign(Object.assign({},o),{content:i})),t.push(Object.assign(Object.assign({},o),{content:a}))}else t.push(o);n=i}),o=t}),o}(e,i),s=0,l=null,u=[];return a.forEach(e=>{let o=K(s,t.prev),r=K(s,t.next),i=Y(s,n.prev),a=Y(s,n.next);(!l||l.focused.prev!==o||l.focused.next!==r||l.annotation.prev!==i||l.annotation.next!==a)&&(l={focused:{prev:o,next:r},tokens:[],annotation:{prev:i,next:a}},u.push(l)),null==l||l.tokens.push(e),s+=e.content.length}),u.map(e=>({focused:e.focused,tokens:e.tokens,element:function(e){return c.default.createElement(c.default.Fragment,null,e.tokens.map((e,t)=>{let{content:n,props:o}=e;return c.default.createElement("span",Object.assign({},o,{key:t+1}),n)}))}(e)}))}(t,r,a)},o)}),s=m(i,e=>Object.keys(e).map(e=>Number(e))),l=m(s,e=>Math.min(...e)),u=m(s,e=>Math.max(...e));return Object.assign({lines:a,firstFocusedLineNumber:l,lastFocusedLineNumber:u},r)}(e,t,n)}(s,b(n,null),l),f=function(e,t,n){var o,r,i,a,{lines:s}=e,l=d(e,["lines"]);let c=(o=s,r=t,o.map(e=>{var{groups:t}=e,n=d(e,["groups"]);let{lineNumber:o}=n,i={prev:o.prev&&r.prev[o.prev]||[],next:o.next&&r.next[o.next]||[]};return Object.assign(Object.assign({},n),{annotatedGroups:function(e,t){let n=[...e],o=[...e],r=[...t.prev],i=[...t.next],a=[],s=1,l=1;for(;n.length>0||o.length>0;){let e=r[0],t=i[0],c=e&&e.columnNumbers.start===s,u=t&&t.columnNumbers.start===l;if(s<l){if(c){let t=e.columnNumbers.end+1;a.push({prev:{annotation:e,groups:eo(n,s,t)}}),s=t,r.shift()}else{let t=Math.min(l,(null==e?void 0:e.columnNumbers.start)||l);a.push({prev:{groups:eo(n,s,t)}}),s=t}}else if(s>l){if(u){let e=t.columnNumbers.end+1;a.push({next:{annotation:t,groups:eo(o,l,e)}}),l=e,i.shift()}else{let e=Math.min(s,(null==t?void 0:t.columnNumbers.start)||s);a.push({next:{groups:eo(o,l,e)}}),l=e}}else if(s==l){if(c&&u&&e.columnNumbers.end===t.columnNumbers.end){let c=t.columnNumbers.end+1;a.push({prev:{annotation:e,groups:eo(n,s,c)},next:{annotation:t,groups:eo(o,l,c)}}),s=c,l=c,r.shift(),i.shift()}else if(c){let t=e.columnNumbers.end+1;a.push({prev:{annotation:e,groups:eo(n,s,t)}}),s=t,r.shift()}else if(u){let e=t.columnNumbers.end+1;a.push({next:{annotation:t,groups:eo(o,l,e)}}),l=e,i.shift()}else if(e||t){let r=Math.min((null==e?void 0:e.columnNumbers.start)||Number.MAX_VALUE,(null==t?void 0:t.columnNumbers.start)||Number.MAX_VALUE);a.push({prev:{groups:eo(n,s,r)},next:{groups:eo(o,l,r)}}),s=r,l=r}else a.push({prev:{groups:n},next:{groups:o}}),n=[],o=[]}}return a}(t,i)})}));let u={prev:en(i=c,(a=n).prev,e=>e.lineNumber.prev),next:en(i,a.next,e=>e.lineNumber.next)};return Object.assign(Object.assign({},l),{lineGroups:u,lineCount:{prev:s.filter(e=>null!=e.lineNumber.prev).length,next:s.filter(e=>null!=e.lineNumber.next).length}})}(p,l,u),g=function(e,t,n){let o=function(e,t){return e<=0&&t<=0?[0,1]:e<=0&&t>=1?[.33,1]:e>=1&&t<=0?[0,.67]:[.25,.75]}(e.enterCount,e.exitCount),r=m(e.lineGroups,t=>t.map(t=>Object.assign(Object.assign({},t),{lines:function(e,t,n,o){let[r,i]=t;return e.map(e=>{let t=m(e.lineNumber,e=>e&&e-1),{enterIndex:a,exitIndex:s}=e,l="exit"===e.move?{fixed:!0,value:t.prev}:"enter"===e.move?{fixed:!0,value:t.next}:{fixed:!1,extremes:[t.prev,t.next],interval:[r,i],ease:ee.easeInOutCubic},c="exit"===e.move?{fixed:!1,extremes:[0,-1],ease:ee.easeInQuad,interval:Z([0,r],s,o)}:"enter"===e.move?{fixed:!1,extremes:[1,0],ease:ee.easeOutQuad,interval:Z([i,1],a,n)}:{fixed:!0,value:0};return Object.assign(Object.assign({},e),{tweenX:c,tweenY:l})})}(t.lines,o,e.enterCount,e.exitCount)})));return Object.assign(Object.assign({},e),{groups:r,verticalInterval:o,code:t,lang:n})}(f,a,i);return g})(e),[t.prev,t.next,o.prev,o.next,n])}({highlightedLines:m(o,e=>e.code.lines),theme:r,focus:m(o,e=>e.focus),annotations:m(o,e=>e.annotations),lang:(t=o,(n=e=>{var t;return null===(t=null==e?void 0:e.code)||void 0===t?void 0:t.lang})(t.prev)||n(t.next))})}({tween:t,theme:o.theme}),{element:a,dimensions:s}=function(e,t,n,o,r,i){let[a,s]=c.default.useState(null),l=function(){let[e,t]=c.default.useState(void 0);return c.default.useEffect(()=>{function e(){t(window.innerWidth)}return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e}(),u=c.default.useRef(null),{prevLongestLine:d,nextLongestLine:p,element:f}=c.default.useMemo(()=>{let n=L(e.prev,t.prev),i=L(e.next,t.next),a=(e.prev||e.next).trimEnd().split(H),s=a.length;if(r){let e="focus"===r?function(e,t){let[n,o]=function(e,t){if(!e)return[0,t.length-1];{let t=j(e),n=Object.keys(t).map(e=>parseInt(e,10));return[Math.min(...n),Math.max(...n)]}}(e.prev,t);return o-n+1}(t,a):r,o=a.length;for(;o<e;)a.push(""),o++;for(;o>e;)a.pop(),o--;n&&!a.includes(n)&&(a[a.length-1]=n)}let l=!1,d=c.default.createElement("code",{className:"ch-code-scroll-parent"},c.default.createElement("br",null),a.map((e,t)=>{let r=l||e!==n?void 0:u;return l=l||null!=r,c.default.createElement("div",{ref:r,key:t},o?c.default.createElement("span",{className:"ch-code-line-number"},"_",s):void 0,c.default.createElement("div",{style:{display:"inline-block",marginLeft:16}},c.default.createElement("span",null,e)))}),c.default.createElement("br",null));return{prevLongestLine:n,nextLongestLine:i,element:d}},[e]),g=[...i,l,d,p,n];return(I(()=>{var e;if(u.current){let t=u.current,o=null==t?void 0:t.parentElement,r=o.parentElement,i=null==t?void 0:t.querySelector(":scope > div"),a=null==t?void 0:t.querySelector(":scope > span"),l=a?function(e){let t=getComputedStyle(e);return parseFloat(t.width)}(a):0,c=_(i),f=c/d.length||1,h=p.length*f,m=null!==(e=R(i))&&void 0!==e?e:20,b={containerWidth:_(r.parentElement),containerHeight:R(r.parentElement),contentWidth:_(o.parentElement),contentHeight:R(o.parentElement),lineWidths:[c||h||200,h||c||200],lineWidth:[Math.max(c||h||200,f*n),Math.max(h||c||200,f*n)],lineHeight:m,colWidth:f,lineNumberWidth:l,deps:g};s(b)}},g),!a||function(e,t){for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1}(a.deps,g))?{element:f,dimensions:null}:{element:f,dimensions:a}}(i.code,m(t,e=>e.focus),o.minColumns||10,o.lineNumbers||!1,o.rows,[o.parentHeight]);return!s||o.debug?c.default.createElement(eb,{element:a,htmlProps:r,debug:o.debug}):c.default.createElement(ev,{dimensions:s,stepInfo:i,config:o,progress:n,htmlProps:r})}function eb(e){let{element:t,htmlProps:n,debug:o}=e;return c.default.createElement(ey,{htmlProps:n,style:{opacity:o?.9:0,overflow:"auto"}},t)}function ev(e){var t,n;let{config:{minZoom:o=1,maxZoom:r=1,horizontalCenter:a=!1,theme:s},dimensions:l,stepInfo:u,progress:d,htmlProps:p,config:f}=e;let{bg:g,fg:h}={fg:N(n=s,i.CodeForeground),bg:N(n,i.CodeBackground)};return c.default.createElement(ey,{htmlProps:p,style:{opacity:1,backgroundColor:g,color:h,colorScheme:P(s),"--ch-selection-background":N(s,i.SelectionBackground)}},c.default.createElement(el,{codeStep:u,progress:d,dimensions:l,minZoom:o,maxZoom:r,center:a,theme:s}),f.showCopyButton?c.default.createElement(eh,{className:"ch-code-button",content:null===(t=null==u?void 0:u.code)||void 0===t?void 0:t.prev}):void 0)}function ey(e){let{htmlProps:t,style:n,children:o}=e;return c.default.createElement("div",Object.assign({className:"ch-code-wrapper"},t,{style:Object.assign(Object.assign({margin:0,padding:0,position:"relative",whiteSpace:"pre",boxSizing:"content-box"},n),null==t?void 0:t.style),children:o}))}function eE(){return"undefined"!=typeof window?performance.now():0}function ex(e,t){var n=t.stiffness,o=t.damping,r=t.mass,i=t.decimals,a=t.teleport;return{X:e,k:null!=n?n:170,c:null!=o?o:26,m:null!=r?r:1,teleport:null!=a&&a,decimals:null!=i?i:2}}var ek=Math.sqrt,eF=Math.exp,ej=Math.sin,eC=Math.cos;function eB(e){var t=e.x0,n=e.v0,o=e.t0,r=e.t,i=e.k,a=e.c,s=e.m,l=e.X,c=t-l,u=(r-o)/1e3,d=a*a-4*i*s;if(d>0){var p=(-a+ek(d))/(2*s),f=(-a-ek(d))/(2*s),g=(c*p-n)/(p-f),h=(n-c*f)/(p-f);return{x:l+g*eF(f*u)+h*eF(p*u),v:g*f*eF(f*u)+h*p*eF(p*u)}}if(d<0){var m=-a/(2*s),b=ek(-d)/(2*s),v=(n-m*c)/b;return{x:l+eF(m*u)*(c*eC(b*u)+v*ej(b*u)),v:eF(m*u)*((v*b+c*m)*eC(b*u)-(c*b-v*m)*ej(b*u))}}var y=-a/(2*s),E=n-y*c;return{x:l+(c+E*u)*eF(y*u),v:(E+c*y+E*y*u)*eF(y*u)}}var ew=[],eD=null;function eS(e){var t=ew.push(e);return 1===t&&(eD=requestAnimationFrame(eN)),[eD,t-1]}function eO(e){var t=e[0],n=e[1];t===eD&&delete ew[n]}function eN(){var e=eE(),t=ew;ew=[],(0,u.unstable_batchedUpdates)(function(){return t.forEach(function(t){return t&&t(e)})})}var eP="undefined"!=typeof window?c.default.useLayoutEffect:c.default.useEffect;function eA(e,t){void 0===t&&(t={});var n,o,r,i=c.default.useState()[1],a=ex(e,t);var s=(n=e,o=t,null==(r=c.default.useRef(null)).current&&(r.current={config:ex(n,o),state:function(e,t){var n=t.from,o=t.initialSpeed;return{x0:null!=n?n:e,v0:null!=o?o:0,t0:eE(),raf:null}}(n,o)}),r.current),l=s.state,u=s.config,d=eE(),p=l.x0,f=l.v0,g=l.t0,h=u.k,m=u.c,b=u.m,v=u.X,y=a.teleport?{x:v,v:0}:eB({x0:p,v0:f,t0:g,t:d,k:h,c:m,m:b,X:v}),E=y.x,x=y.v,k=function(e,t,n,o){var r=o.decimals,i=o.X,a=o.k,s=o.c,l=o.m;return eT(e,r)!==eT(i,r)||eT(eB({x0:e,v0:t,t0:n,t:n+.016,k:a,c:s,m:l,X:i}).x,r)!==eT(i,r)}(E,x,d,a);return eP(function(){Object.assign(u,a)},[a.X,a.k,a.c,a.m,a.teleport]),eP(function(){l.x0=E,l.v0=x,l.t0=d},[E,x,d]),eP(function(){k&&null==l.raf?l.raf=eS(function e(t){var n=l.x0,o=l.v0,r=l.t0,a=u.k,s=u.c,c=u.m,d=u.X,p=u.decimals;eT(eB({x0:n,v0:o,t0:r,t:t,k:a,c:s,m:c,X:d}).x,p)!==eT(n,p)?(l.raf=null,i(t)):l.raf=eS(e)}):!k&&null!=l.raf&&(eO(l.raf),l.raf=null)}),eP(function(){return function(){null!=l.raf&&eO(l.raf)}},[]),[eT(E,a.decimals),k]}function eT(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}let eM={stiffness:120,damping:24,mass:.2,decimals:3};function eI(e){var{step:t,config:n}=e,o=d(e,["step","config"]);let{tween:r,t:i}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eM,[{target:n,steps:o,index:r},i]=c.default.useState({target:2,steps:[e,e,e],index:0});c.default.useEffect(()=>{let t=o[o.length-1];t!=e&&i(t=>(function(e,t,n){let{steps:o,target:r,index:i}=e,a=o.slice();return n-i<1?(a[2]=t,Object.assign(Object.assign({},e),{steps:a})):(a[0]=o[1],a[1]=o[2],a[2]=t,Object.assign(Object.assign({},e),{steps:a,target:r+1,index:i+1}))})(t,e,a))},[e]);let[a]=eA(n,t),s=a-r,l=s<=1?{tween:{prev:o[0],next:o[1]},t:s}:{tween:{prev:o[1],next:o[2]},t:s-1};return l}(t,n.spring);return c.default.createElement(em,Object.assign({tween:r,progress:i,config:n},o))}let eH=(0,c.createContext)({});function eL(e){let{classes:t,children:n}=e,o=(0,c.useContext)(eH),r=eR(o,t);return c.default.createElement(eH.Provider,{value:r,children:n})}function e_(e,t){let n=(0,c.useContext)(eH),o=eR(n,t);return(0,c.useCallback)(function(e,t){return function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];let i=o.map(t=>e+(e&&t?"-":"")+t),a=i.slice();return i.forEach(e=>{e in t&&a.push(t[e])}),a.join(" ")}}(e,o),[e,o])}function eR(e,t){return(0,c.useMemo)(()=>Object.assign(Object.assign({},e),t),[e,t])}let eW=c.default.forwardRef(function(e,t){var{title:n,children:o,titleBar:r,classes:a,theme:s,zoom:l=1,overflow:u}=e,p=d(e,["title","children","titleBar","classes","theme","zoom","overflow"]);let f=e_("ch-frame",a),g=r||c.default.createElement(ez,{title:n});return c.default.createElement(eL,{classes:a},c.default.createElement("div",Object.assign({},p,{ref:t}),c.default.createElement("div",{className:f("")},c.default.createElement("div",{className:f("title-bar"),style:{background:N(s,i.EditorGroupHeaderBackground)}},g),c.default.createElement("div",{className:f("content")},c.default.createElement("div",{className:f("zoom"),style:{"--ch-frame-zoom":l,overflow:u}},o)))))});function ez(e){let{title:t}=e,n=e_("ch-frame");return c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:n("left-bar")},c.default.createElement(eG,null)),c.default.createElement("div",{className:n("middle-bar")},t),c.default.createElement("div",{className:n("right-bar")}))}function eG(){let e=e_("ch-frame");return c.default.createElement("div",{className:e("buttons")},c.default.createElement("div",{className:e("button","button-left")}),c.default.createElement("div",{className:e("button-space")}),c.default.createElement("div",{className:e("button","button-middle")}),c.default.createElement("div",{className:e("button-space")}),c.default.createElement("div",{className:e("button","button-right")}))}c.default.forwardRef(function(e,t){var{title:n,children:o,titleBar:r,classes:i,overflow:a}=e,s=d(e,["title","children","titleBar","classes","overflow"]);let l=e_("ch",i),u=r||c.default.createElement(ez,{title:n});return c.default.createElement(eL,{classes:i},c.default.createElement("div",Object.assign({},s,{ref:t}),c.default.createElement("div",{className:l("simple-frame")},c.default.createElement("div",{className:l("frame-title-bar")},u),o)))});let eq=c.default.forwardRef(function(e,t){var n,{northPanel:o,southPanel:r,terminalPanel:a,style:s,height:l,northButton:u,southButton:p,theme:f,className:g,onTabClick:h}=e,m=d(e,["northPanel","southPanel","terminalPanel","style","height","northButton","southButton","theme","className","onTabClick"]);return c.default.createElement("div",Object.assign({ref:t},m,{className:"ch-editor-frame",style:Object.assign({background:N(f,i.EditorBackground)},s)}),c.default.createElement("div",{className:"ch-frame-title-bar",style:{color:N(f,i.IconForeground),background:N(f,i.EditorGroupHeaderBackground)}},c.default.createElement(eJ,{tabs:o.tabs,showFrameButtons:!0,button:u,panel:"north",theme:f,onTabClick:h})),c.default.createElement("div",{"data-ch-panel":"north",style:o.style,children:o.children}),r&&c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:"ch-frame-title-bar",style:{transform:null===(n=r.style)||void 0===n?void 0:n.transform,color:N(f,i.IconForeground),background:N(f,i.EditorGroupHeaderBackground)}},c.default.createElement(eJ,{tabs:r.tabs,showFrameButtons:!1,button:p,topBorder:!0,panel:"south",theme:f,onTabClick:h})),c.default.createElement("div",{"data-ch-panel":"south",children:r.children,style:r.style})))});function eJ(e){let{tabs:t,button:n,showFrameButtons:o,topBorder:r,panel:a,theme:s,onTabClick:l}=e,u=e_("ch-editor-tab");return c.default.createElement(c.default.Fragment,null,r&&c.default.createElement("div",{style:{position:"absolute",height:"1px",background:N(s,i.EditorGroupBorder),width:"100%",top:0,zIndex:1}}),o?c.default.createElement(eG,null):c.default.createElement("div",null),t.map(e=>{let{title:t,active:n,style:o}=e;return c.default.createElement("div",{key:t,title:t,"data-ch-tab":a,className:u("",n?"active":"inactive"),style:Object.assign(Object.assign({},o),{background:N(s,n?i.ActiveTabBackground:i.InactiveTabBackground),color:N(s,n?i.ActiveTabForeground:i.InactiveTabForeground),borderRightColor:N(s,i.TabBorder),borderBottomColor:N(s,n?i.ActiveTabBottomBorder:i.InactiveTabBackground)}),onClick:l&&(()=>l(t))},c.default.createElement(eV,{title:t}))}),c.default.createElement("div",{style:{flex:1,minWidth:"0.8em"}}),n)}function eV(e){let{title:t}=e;if(!t)return c.default.createElement("div",null);let n=t.lastIndexOf("/")+1,o=t.substring(n),r=t.substring(0,n);return c.default.createElement("div",null,c.default.createElement("span",{style:{opacity:.5}},r),o)}let e$=c.default.createElement("span",{className:"ch-terminal-prompt"},"$");function eX(e){let{text:t,progress:n=1,style:o}=e,r=function(e,t){if(!e)return[];let n=Math.round(e.length*t),{commands:o}=function(e){let[,...t]=e.split(/^\$\s*/gm),n=t.map(e=>{let[t,...n]=e.split(/\r?\n/);return{run:t,output:n.length>0?n.join("\n"):null}}),o=n[n.length-1],r=n.length>0&&null!=o.output,i=r?o.run.split(/(\s+)/)[0]:"bash";return{title:i,isRunning:r,commands:n}}(e.slice(0,n));return o}(t,n);return c.default.createElement("pre",{style:o,className:"ch-terminal-content"},r.map((e,t)=>{let{run:n,output:o}=e;return c.default.createElement(c.default.Fragment,{key:t},c.default.createElement("div",null,e$," ",c.default.createElement("span",null,n)),o&&c.default.createElement("div",{className:"ch-terminal-output"},o))}))}function eU(e){let{prev:t="",prevKey:n,next:o="",nextKey:r,progress:i}=e;return c.default.createElement("div",{className:"ch-terminal"},c.default.createElement("div",{style:{position:"relative",transform:"translateY(-".concat(100*i,"%)")}},c.default.createElement(eX,{text:t,progress:1,key:n}),c.default.createElement(eX,{style:{position:"absolute"},text:o,progress:i,key:r})))}function eK(e){let{steps:t,progress:n}=e,o=t.map(e=>e.text),r=function(e,t,n){return Math.min(Math.max(e,t),n)}(Math.floor(n),0,t.length-1),i=r+1;return c.default.createElement(eU,{prev:o[r],prevKey:r,next:o[i]||"",nextKey:i,progress:n%1})}function eY(e){let{prev:t,next:n,t:o,backward:r}=e,i=function(e){let{prev:t,next:n,t:o,backward:r}=e;return t||n?!t&&n?eQ*Math.min(4*o,1):t&&!n?eQ*Math.max(1-4*o,0):eQ:0}({prev:t,next:n,t:o,backward:r});return i?c.default.createElement("div",{className:"ch-editor-terminal",style:{height:i}},c.default.createElement("div",{className:"ch-editor-terminal-tab"},c.default.createElement("span",null,"Terminal")),c.default.createElement("div",{className:"ch-editor-terminal-content"},c.default.createElement(eK,{steps:[{text:t||""},{text:n||""}],progress:o}),")")):null}let eQ=150;function eZ(e){return Array.isArray(e.rows)?Object.assign(Object.assign({},e),{rows:e.rows[0]}):e}function e0(e){return Array.isArray(e.rows)?Object.assign(Object.assign({},e),{rows:e.rows[1]}):e}function e1(e,t,n){var o;let r=t.northPanel,i=t.southPanel,{prevNorthFile:a,prevSouthFile:s,nextNorthFile:l,nextSouthFile:u}=e4(e,t,!1),d=!i&&r.active===(null===(o=null==e?void 0:e.southPanel)||void 0===o?void 0:o.active);return d&&(l=u),{northContent:e2(l),northPanel:{tabs:r.tabs.map(e=>({title:e,active:e===r.active,style:{}})),style:{flexGrow:1,overflow:"hidden"},children:c.default.createElement(e8,{codeConfig:eZ(n),prevFile:l,nextFile:l,t:1,parentHeight:"1"})},southContent:e2(u),southPanel:i&&{tabs:i.tabs.map(e=>({title:e,active:e===i.active,style:{}})),style:{flexGrow:1,overflow:"hidden"},children:c.default.createElement(e8,{codeConfig:e0(n),prevFile:u,nextFile:u,t:1,parentHeight:"1"})}}}function e8(e){var t;let{prevFile:n,nextFile:o,t:r,codeConfig:i,parentHeight:a}=e,s=Object.assign(Object.assign({},null==i?void 0:i.htmlProps),{style:Object.assign({height:"100%"},null===(t=null==i?void 0:i.htmlProps)||void 0===t?void 0:t.style)});return c.default.createElement(em,Object.assign({progress:r,tween:{prev:n,next:o},config:Object.assign(Object.assign({},i),{parentHeight:a})},s))}function e2(e){return e?y(e.code):""}function e4(e,t,n){var o,r;let i=e.northPanel.active,a=t.northPanel.active,s=null===(o=e.southPanel)||void 0===o?void 0:o.active,l=null===(r=t.southPanel)||void 0===r?void 0:r.active,c=e.files.find(e=>e.name===i),u=t.files.find(e=>e.name===a),d=s?e.files.find(e=>e.name===s):null,p=l?t.files.find(e=>e.name===l):null;return s||i!==l?l||a!==s?{prevNorthFile:i===a?c:n?c:u,nextNorthFile:i===a?u:n?c:u,prevSouthFile:s===l?d:n?d||p:p||d,nextSouthFile:s===l?p:n?d||p:p||d}:{prevNorthFile:c,nextNorthFile:c,prevSouthFile:d,nextSouthFile:u}:{prevNorthFile:u,nextNorthFile:u,prevSouthFile:c,nextSouthFile:p}}function e3(e,t,n){return e+(t-e)*n}function e9(e,t,n,o,r,i){let a=e?Object.keys(e).filter(e=>e6(e,n)||!n).map(t=>{let o=n&&n[t],a=e[t],s=o?o.left+(a.left-o.left)*i:a.left,l=o?o.width+(a.width-o.width)*i:a.width;return{active:t===r,title:t,style:{position:"absolute",transform:"translateX(".concat(s,"px)"),width:l}}}):[],s=e?Object.keys(e).filter(e=>n&&!e6(e,n)).map(t=>{let n=e[t];return{active:t===r,title:t,style:{position:"absolute",transform:"translateX(".concat(n.left,"px)"),opacity:i,width:n.width}}}):[];e&&Object.keys(e).filter(e=>e6(e,o)).map(t=>{let n=o[t],i=e[t],a=i.left-n.left;return{active:t===r,title:t,style:{position:"absolute",transform:"translateX(".concat(a,"px)")}}});let l=n?Object.keys(n).filter(t=>!e6(t,e)).map(e=>{let t=n[e];return{active:e===r,title:e,style:{position:"absolute",opacity:1-i,transform:"translateX(".concat(t.left,"px)"),width:t.width}}}):[];return[...s,...a,...l]}function e6(e,t){return t&&e&&e in t}let e5="undefined"!=typeof window?c.default.useLayoutEffect:c.default.useEffect;function e7(e,t){var n;let o=e.querySelector("[data-ch-panel='north']"),r=e.querySelector("[data-ch-panel='south']"),i=e.querySelector(".ch-frame-title-bar");return{titleBarHeight:i.getBoundingClientRect().height,northHeight:o.getBoundingClientRect().height,northKey:t.northPanel.active,southHeight:(null==r?void 0:r.getBoundingClientRect().height)||null,southKey:null===(n=t.southPanel)||void 0===n?void 0:n.active}}function te(e,t){var n;let o=Array.from(e.querySelectorAll("[data-ch-tab='north']")),r=Array.from(e.querySelectorAll("[data-ch-tab='south']"));return{northTabs:tt(o,t.northPanel.active),southTabs:tt(r,null===(n=t.southPanel)||void 0===n?void 0:n.active)}}function tt(e,t){if(!e[0])return null;let n=e[0].parentElement,o=n.getBoundingClientRect().left,r={};return e.forEach(e=>{let n=e.getAttribute("title"),i=e.getBoundingClientRect();r[n]={left:i.left-o,width:i.width,active:n===t}}),r}function tn(e){let{files:t,theme:n,startingFileName:o}=e,[r,a]=c.default.useState(()=>t.find(e=>e.name===o));return c.default.createElement("div",{className:"ch-code-browser",style:{color:N(n,i.EditorForeground)}},c.default.createElement(to,{files:t,theme:n,activeFile:r,setActiveFile:a}),c.default.createElement(ta,{file:r,theme:n}))}function to(e){let{theme:t,files:n,activeFile:o,setActiveFile:r}=e,a=c.default.useMemo(()=>(function(e){let t=[];for(let n of e){let e=n.name.split("/"),o=t;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1,a=o.findIndex(e=>e.name===r);if(-1===a){let e={name:r,children:[],codeFile:void 0};i&&(e.codeFile=n),o.push(e),o=e.children}else o=o[a].children}}return t=function e(t){for(let n of t)n.children=e(n.children);return t.sort((e,t)=>{let n=e.children&&e.children.length>0,o=t.children&&t.children.length>0;return n&&o||!n&&!o?e.name.localeCompare(t.name):n?-1:1})}(t)})(n),[n]);return c.default.createElement("div",{className:"ch-code-browser-sidebar",style:{borderColor:N(t,i.SideBarBorder),background:N(t,i.SideBarBackground),color:N(t,i.SideBarForeground),"--ch-list-selection-background":N(t,i.ListActiveSelectionBackground),"--ch-list-selection-foreground":N(t,i.ListActiveSelectionForeground),"--ch-hover-background":N(t,i.ListHoverBackground),"--ch-hover-foreground":N(t,i.ListHoverForeground)}},c.default.createElement(tr,{tree:a,activeFile:o,setActiveFile:r}))}function tr(e){let{tree:t,activeFile:n,setActiveFile:o,level:r=0}=e;return c.default.createElement(c.default.Fragment,null,t.map(e=>c.default.createElement(ti,{key:e.name,node:e,activeFile:n,setActiveFile:o,level:r})))}function ti(e){let{node:t,activeFile:n,setActiveFile:o,level:r}=e,i=t.children&&t.children.length>0,a=t.codeFile===n;return i?c.default.createElement("div",null,c.default.createElement("div",{className:"ch-code-browser-sidebar-folder"},c.default.createElement("div",{style:{paddingLeft:1.5*r+"ch"}},t.name)),c.default.createElement(tr,{tree:t.children,activeFile:n,setActiveFile:o,level:r+1})):c.default.createElement("div",null,c.default.createElement("div",{className:"ch-code-browser-sidebar-file",onClick:()=>o(t.codeFile),style:a?{color:"var(--ch-list-selection-foreground)",background:"var(--ch-list-selection-background)"}:{}},c.default.createElement("div",{style:{paddingLeft:1.5*r+"ch"}},t.name)))}function ta(e){let{file:t,theme:n}=e;return c.default.createElement("div",{className:"ch-code-browser-content",style:{background:N(n,i.CodeBackground),color:N(n,i.CodeForeground),"--ch-selection-background":N(n,i.SelectionBackground),colorScheme:P(n)}},c.default.createElement(eh,{className:"ch-code-browser-button",content:y(t.code)}),t.code.lines.map((e,t)=>c.default.createElement("div",{key:t},0===e.tokens.length?c.default.createElement("br",null):e.tokens.map((e,t)=>c.default.createElement("span",Object.assign({key:t},e.props),e.content)))))}function ts(e){let{style:t,step:n,theme:o,className:r}=e,[a,s]=c.default.useState(!1),[l,u]=c.default.useState(!0),d=c.default.useRef(null),p=n.files;return(c.default.useEffect(()=>{d.current&&!d.current.showModal&&u(!1)},[]),l)?c.default.createElement(c.default.Fragment,null,c.default.createElement(tl,{className:r,style:t,onClick:()=>{d.current.showModal(),document.body.classList.add("ch-no-scroll"),s(!0)}}),c.default.createElement("dialog",{ref:d,className:"ch-expand-dialog",onClose:()=>{s(!1)},onClick:e=>{e.currentTarget===e.target&&(d.current.close(),document.body.classList.remove("ch-no-scroll"))}},c.default.createElement(tc,{onClick:()=>{d.current.close(),document.body.classList.remove("ch-no-scroll")}}),a?c.default.createElement("div",{className:"ch-expand-dialog-content",style:{borderColor:N(o,i.SideBarBorder)}},c.default.createElement(tn,{files:p,theme:o,startingFileName:n.northPanel.active})):void 0)):null}function tl(e){let{onClick:t,style:n,className:o}=e;return c.default.createElement("svg",{style:n,onClick:t,className:o,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",role:"button"},c.default.createElement("title",null,"Expand"),c.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"}))}function tc(e){let{onClick:t}=e;return c.default.createElement("svg",{onClick:t,className:"ch-expand-close",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",role:"button"},c.default.createElement("title",null,"Close"),c.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}))}let tu={files:[{code:{lines:[],lang:"js"},focus:"",name:""}],northPanel:{active:"",tabs:[""],heightRatio:1}};function td(e){var{prev:t=tu,next:n,t:o,backward:r,codeConfig:i,frameProps:a={}}=e,s=d(e,["prev","next","t","backward","codeConfig","frameProps"]);let l=c.default.createRef(),{showCopyButton:u,showExpandButton:p}=i,f=d(i,["showCopyButton","showExpandButton"]),{northPanel:g,southPanel:h,northContent:m,southContent:b}=function(e,t,n,o,r,i){let{prevSnapshot:a,nextSnapshot:s}=function(e,t,n){let[{prevSnapshot:o,nextSnapshot:r},i]=c.default.useState({prevSnapshot:null,nextSnapshot:null});return e5(()=>{(o||r)&&i({prevSnapshot:null,nextSnapshot:null})},[t,n]),e5(()=>{if(o){if(!r){let t=e.current;i(e=>Object.assign(Object.assign({},e),{nextSnapshot:Object.assign(Object.assign({},e7(t,n)),te(t,n))}))}}else{let n=e.current;i(e=>Object.assign(Object.assign({},e),{prevSnapshot:Object.assign(Object.assign({},e7(n,t)),te(n,t))}))}}),{prevSnapshot:o,nextSnapshot:r}}(e,t,n);if(!a)return function(e,t,n){let o=e.northPanel,r=e.southPanel,{prevNorthFile:i,prevSouthFile:a,nextNorthFile:s,nextSouthFile:l}=e4(e,t,!0);return{northContent:e2(i),northPanel:{tabs:o.tabs.map(e=>({title:e,active:e===o.active,style:{}})),style:{flexGrow:1,overflow:"hidden"},children:c.default.createElement(e8,{codeConfig:eZ(n),prevFile:i,nextFile:i,t:0,parentHeight:"0"})},southContent:e2(a),southPanel:r&&{tabs:r.tabs.map(e=>({title:e,active:e===r.active,style:{}})),style:{flexGrow:1,overflow:"hidden"},children:c.default.createElement(e8,{codeConfig:e0(n),prevFile:a,nextFile:a,t:0,parentHeight:"0"})}}}(t,n,i);if(!s||1===o)return e1(t,n,i);let l=t.southPanel||n.southPanel,{prevNorthFile:u,prevSouthFile:d,nextNorthFile:p,nextSouthFile:f}=e4(t,n,0==o||r),{northStyle:g,southStyle:h}=function(e,t,n){return null===e.southHeight&&null===t.southHeight?{northStyle:{minHeight:e.northHeight}}:null!==e.southHeight&&null===t.southHeight&&t.northKey!==e.southKey?{northStyle:{minHeight:function(e,t,n){return e+(t-e)*n}(e.northHeight,t.northHeight,n)},southStyle:{minHeight:e.southHeight}}:null!==e.southHeight&&null===t.southHeight&&e.southKey===t.northKey?{northStyle:{minHeight:e.northHeight},southStyle:{position:"relative",minHeight:function(e,t,n){return e+(t-e)*n}(e.southHeight,t.northHeight,n),transform:"translateY(".concat(function(e,t,n){return e+(t-e)*n}(0,-(e.northHeight+e.titleBarHeight),n),"px)")}}:null===e.southHeight&&null!==t.southHeight&&e.northKey!==t.southKey?{northStyle:{minHeight:function(e,t,n){return e+(t-e)*n}(e.northHeight,t.northHeight,n)},southStyle:{position:"relative",minHeight:t.southHeight}}:null===e.southHeight&&null!==t.southHeight&&e.northKey===t.southKey?{northStyle:{minHeight:t.northHeight},southStyle:{position:"relative",minHeight:function(e,t,n){return e+(t-e)*n}(e.northHeight,t.southHeight,n),transform:"translateY(".concat(function(e,t,n){return e+(t-e)*n}(-(t.northHeight+t.titleBarHeight),0,n),"px)")}}:{northStyle:{minHeight:function(e,t,n){return e+(t-e)*n}(e.northHeight,t.northHeight,n)},southStyle:{minHeight:function(e,t,n){return e+(t-e)*n}(e.southHeight,t.southHeight,n)}}}(a,s,o),{northTabs:m,southTabs:b}=function(e,t,n,o,r){return!e.southTabs&&e6(o,e.northTabs)?{northTabs:e9(t.northTabs,t.southTabs,e.southTabs,e.northTabs,n,r),southTabs:e9(t.southTabs,t.northTabs,e.northTabs,e.southTabs,o,r)}:!t.southTabs&&e6(o,t.northTabs)?{northTabs:e9(t.southTabs,t.northTabs,e.northTabs,e.southTabs,n,r),southTabs:e9(t.northTabs,t.southTabs,e.southTabs,e.northTabs,o,r)}:{northTabs:e9(t.northTabs,t.southTabs,e.northTabs,e.southTabs,n,r),southTabs:e9(t.southTabs,t.northTabs,e.southTabs,e.northTabs,o,r)}}(a,s,u.name,null==d?void 0:d.name,o);return{northContent:e2(p),northPanel:{tabs:m,style:g,children:c.default.createElement(e8,{codeConfig:eZ(i),prevFile:u,nextFile:p,t:o,parentHeight:g.height||g.minHeight})},southContent:e2(f),southPanel:l&&{tabs:b,style:h,children:c.default.createElement(e8,{codeConfig:e0(i),prevFile:d,nextFile:f,t:o,parentHeight:(null==h?void 0:h.height)||(null==h?void 0:h.minHeight)})}}}(l,t,n||t,o,r,f),[v,y]=c.default.useState(void 0);I(()=>{var e;let t=null===(e=l.current)||void 0===e?void 0:e.getBoundingClientRect().height;y(t)},[]);let E=Object.assign(Object.assign(Object.assign({},a),s),{style:Object.assign(Object.assign({},null==a?void 0:a.style),null==s?void 0:s.style)});v&&(E.style.height=v,E.style.maxHeight=v);let x=c.default.createElement(c.default.Fragment,null,u?c.default.createElement(eh,{className:"ch-editor-button",content:m}):void 0,p?c.default.createElement(ts,{className:"ch-editor-button",step:n||t,theme:i.theme}):void 0),k=u?c.default.createElement(eh,{className:"ch-editor-button",content:b}):void 0,F=c.default.createElement(eY,{prev:t.terminal,next:(n||t).terminal,t:o,backward:r});return c.default.createElement(eq,Object.assign({ref:l},E,{northPanel:g,southPanel:h,terminalPanel:F,theme:i.theme,northButton:x,southButton:k}))}let tp={stiffness:120,damping:24,mass:.2,decimals:3};function tf(e){var{northPanel:t,southPanel:n,files:o,terminal:r,springConfig:i}=e,a=d(e,["northPanel","southPanel","files","terminal","springConfig"]);let s=c.default.useMemo(()=>({northPanel:t,southPanel:n,files:o,terminal:r}),[t,n,o,r]),{prev:l,next:u,t:p}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tp,[{target:n,steps:o,index:r},i]=c.default.useState({target:2,steps:[e,e,e],index:0});c.default.useEffect(()=>{let t=o[o.length-1];t!=e&&i(t=>(function(e,t,n){let{steps:o,target:r,index:i}=e,a=o.slice();return n-i<1?(a[2]=t,Object.assign(Object.assign({},e),{steps:a})):(a[0]=o[1],a[1]=o[2],a[2]=t,Object.assign(Object.assign({},e),{steps:a,target:r+1,index:i+1}))})(t,e,a))},[e]);let[a]=eA(n,t),s=a-r,l=s<=1?{prev:o[0],next:o[1],t:s}:{prev:o[1],next:o[2],t:s-1};return l}(s,i);return c.default.createElement(td,Object.assign({t:p,backward:!1,prev:l,next:u},a))}function tg(e){let[t,n]=c.default.useState(e);return c.default.createElement(th,Object.assign({},t,{onTabClick:function(e){let o=tm(t,e,null);n(Object.assign(Object.assign({},t),o))}}))}function th(e){var{onTabClick:t}=e,n=d(e,["onTabClick"]);let o=function(e){var t,n,o,r,i,a,s,l,c;let{lineNumbers:u,showCopyButton:p,showExpandButton:f,minZoom:g,maxZoom:h}=e,m=d(e,["lineNumbers","showCopyButton","showExpandButton","minZoom","maxZoom"]),b=Object.assign(Object.assign({},e.codeConfig),{maxZoom:null==h?null===(t=e.codeConfig)||void 0===t?void 0:t.maxZoom:h,minZoom:null==g?null===(n=e.codeConfig)||void 0===n?void 0:n.minZoom:g,horizontalCenter:null!==(r=null===(o=e.codeConfig)||void 0===o?void 0:o.horizontalCenter)&&void 0!==r?r:e.horizontalCenter,lineNumbers:null==u?null===(i=e.codeConfig)||void 0===i?void 0:i.lineNumbers:u,showCopyButton:null==p?null===(a=e.codeConfig)||void 0===a?void 0:a.showCopyButton:p,showExpandButton:null==f?null===(s=e.codeConfig)||void 0===s?void 0:s.showExpandButton:f,rows:e.rows,debug:null!==(l=e.debug)&&void 0!==l?l:null===(c=e.codeConfig)||void 0===c?void 0:c.debug});return Object.assign(Object.assign({},m),{codeConfig:b})}(n),{className:r,style:i,codeConfig:a}=o,s=d(o,["className","style","codeConfig"]);if(!n.southPanel&&1===n.files.length&&!n.files[0].name)return c.default.createElement("div",{className:"ch-codeblock not-prose ".concat(r||""),style:i},c.default.createElement(eI,{className:"ch-code",config:a,step:s.files[0]}));{let e=Object.assign(Object.assign({},null==s?void 0:s.frameProps),{onTabClick:t});return c.default.createElement("div",{className:"ch-codegroup not-prose ".concat(r||""),style:i},c.default.createElement(tf,Object.assign({},s,{frameProps:e,codeConfig:a})))}}function tm(e,t,n){let o=t||e.northPanel.active,r=e.files.map(e=>e.name===o?Object.assign(Object.assign({},e),{focus:null===n?e.focus:n}):e),i=Object.assign({},e.northPanel),a=e.southPanel&&Object.assign({},e.southPanel);return e.northPanel.tabs.includes(o)?i.active=o:a&&(a.active=o),{files:r,northPanel:i,southPanel:a}}function tb(){let e=e_("ch-browser");return c.default.createElement("svg",{fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:"1em",viewBox:"13 10 14 23",className:e("button","back-button")},c.default.createElement("g",null,c.default.createElement("path",{d:"m26.5 12.1q0 0.3-0.2 0.6l-8.8 8.7 8.8 8.8q0.2 0.2 0.2 0.5t-0.2 0.5l-1.1 1.1q-0.3 0.3-0.6 0.3t-0.5-0.3l-10.4-10.4q-0.2-0.2-0.2-0.5t0.2-0.5l10.4-10.4q0.3-0.2 0.5-0.2t0.6 0.2l1.1 1.1q0.2 0.2 0.2 0.5z"})))}function tv(){let e=e_("ch-browser");return c.default.createElement("svg",{fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:"1em",viewBox:"13 10 14 23",className:e("button","forward-button")},c.default.createElement("g",null,c.default.createElement("path",{d:"m26.3 21.4q0 0.3-0.2 0.5l-10.4 10.4q-0.3 0.3-0.6 0.3t-0.5-0.3l-1.1-1.1q-0.2-0.2-0.2-0.5t0.2-0.5l8.8-8.8-8.8-8.7q-0.2-0.3-0.2-0.6t0.2-0.5l1.1-1.1q0.3-0.2 0.5-0.2t0.6 0.2l10.4 10.4q0.2 0.2 0.2 0.5z"})))}function ty(e){let{href:t,style:n}=e,o=e_("ch-browser");return c.default.createElement("a",{className:o("button","open-button"),title:"Open in new tab",href:t,style:n,target:"_blank",rel:"noopener noreferrer"},c.default.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"3 3 18 18",height:"1em",width:"1em",className:o("open-icon"),xmlns:"http://www.w3.org/2000/svg"},c.default.createElement("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"})))}function tE(e){let{url:t,linkUrl:n,theme:o}=e,r=N(o,i.InputBorder);return c.default.createElement(c.default.Fragment,null,c.default.createElement(eG,null),c.default.createElement(tb,null),c.default.createElement(tv,null),c.default.createElement("input",{value:t||"",readOnly:!0,style:{background:N(o,i.InputBackground),color:N(o,i.InputForeground),border:r?"1px solid ".concat(r):void 0}}),c.default.createElement(ty,{href:n,style:{color:N(o,i.EditorForeground)}}))}c.default.createContext({props:null,setFocus:()=>{}}),c.default.createContext({activatedId:void 0,activate:()=>{},reset:()=>{}});let tx=c.default.forwardRef(function(e,t){var n,{progress:o=0,backward:r=!1,steps:i,transition:a="none",classes:s,theme:l}=e,u=d(e,["progress","backward","steps","transition","classes","theme"]);let p=e_("ch-mini-browser",s);let f=(n=i,c.default.useMemo(()=>n?n.map(e=>{let{displayUrl:t,loadUrl:n}=function(e,t,n){let o="undefined"!=typeof window?window.origin:"",r=e&&!0===n?o+e:e;return{displayUrl:r,loadUrl:t||r}}(e.url,e.loadUrl,e.prependOrigin);return{zoom:e.zoom||1,displayUrl:t,loadUrl:n,children:e.children}}):[{zoom:1}],[n])),{zoom:g,displayUrl:h,loadUrl:m,children:b}=f[Math.round(o)];return c.default.createElement(eW,Object.assign({},u,{zoom:g,className:"".concat(p("")," ").concat(u.className||""),style:Object.assign(Object.assign({},function(e){let{progress:t,transition:n}=e;if("slide"===n){let e=t-Math.floor(t),n=2*Math.abs(e-.5);return{transform:"translateX(".concat(e<=.5?-50*e:50-50*e,"px)"),opacity:n*n}}return{}}({progress:o,transition:a})),u.style),classes:s,titleBar:c.default.createElement(tE,{url:h,linkUrl:m,theme:l}),theme:l}),b||c.default.createElement("iframe",{ref:t,src:m}))});function tk(e){var{url:t,loadUrl:n,prependOrigin:o,children:r,zoom:i}=e,a=d(e,["url","loadUrl","prependOrigin","children","zoom"]);let[s,l]=function(e){let{url:t,loadUrl:n,prependOrigin:o,children:r,zoom:i}=e,[a,s]=c.default.useState({target:0,steps:[{url:t,loadUrl:n,prependOrigin:o,children:r,zoom:i}]});c.default.useEffect(()=>{let e=a.steps[a.steps.length-1];(e.url!==t||e.loadUrl!==n||e.prependOrigin!==o||e.children!==r)&&s(e=>({target:e.target+1,steps:[...e.steps,{url:t,loadUrl:n,prependOrigin:o,children:r,zoom:i}]}))},[t,n,o,r,i]);let[l]=eA(a.target,{stiffness:100,decimals:3});return[a.steps,l]}({url:t,loadUrl:n,prependOrigin:o,children:r,zoom:i});return c.default.createElement(tx,Object.assign({},a,{steps:s,progress:l}))}var tF="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},tj={};Object.defineProperty(tj,"__esModule",{value:!0});tj.getMainFile=function(e){return"vue-cli"===e?"src/main.js":"angular-cli"===e?"src/main.ts":"create-react-app-typescript"===e?"src/index.tsx":"parcel"===e?"index.html":"gatsby"===e?"src/pages/index.js":"nuxt"===e||"next"===e||"apollo"===e||"reason"===e||"sapper"===e?"package.json":"nest"===e?"src/main.ts":"static"===e?"index.html":"src/index.js"};var tC="sandbox.config.json",tB=tj.getTemplate=function(e,t){var n=t[tC]||t["/"+tC];if(n)try{var o=JSON.parse(n.content);if(o.template)return o.template}catch(e){}var r=e.dependencies,i=e.devDependencies,a=Object.keys(void 0===r?{}:r).concat(Object.keys(void 0===i?{}:i)),s=["nuxt","nuxt-edge"];if(a.some(function(e){return s.indexOf(e)>-1}))return"nuxt";if(a.indexOf("next")>-1)return"next";var l=["apollo-server","apollo-server-express","apollo-server-hapi","apollo-server-koa","apollo-server-lambda","apollo-server-micro"];if(a.some(function(e){return l.indexOf(e)>-1}))return"apollo";if(a.indexOf("ember-cli")>-1)return"ember";if(a.indexOf("sapper")>-1)return"sapper";var c=Object.keys(t);if(c.some(function(e){return e.endsWith(".vue")}))return"vue-cli";if(c.some(function(e){return e.endsWith(".re")}))return"reason";if(a.indexOf("gatsby")>-1)return"gatsby";if(a.indexOf("parcel-bundler")>-1)return"parcel";if(a.indexOf("react-scripts")>-1)return"create-react-app";if(a.indexOf("react-scripts-ts")>-1)return"create-react-app-typescript";if(a.indexOf("@angular/core")>-1)return"angular-cli";if(a.indexOf("preact-cli")>-1)return"preact-cli";if(a.indexOf("svelte")>-1)return"svelte";if(a.indexOf("vue")>-1)return"vue-cli";var u=["@dojo/core","@dojo/framework"];return a.some(function(e){return u.indexOf(e)>-1})?"@dojo/cli-create-app":a.indexOf("cx")>-1?"cxjs":a.indexOf("@nestjs/core")>-1||a.indexOf("@nestjs/common")>-1?"nest":void 0},tw={exports:{}};!function(e,t){var n,o,r,i,a="__lodash_hash_undefined__",s="[object Arguments]",l="[object Array]",c="[object Boolean]",u="[object Date]",d="[object Error]",p="[object Function]",f="[object Map]",g="[object Number]",h="[object Object]",m="[object Promise]",b="[object RegExp]",v="[object Set]",y="[object String]",E="[object WeakMap]",x="[object ArrayBuffer]",k="[object DataView]",F=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C[s]=C[l]=C[x]=C[c]=C[k]=C[u]=C[d]=C[p]=C[f]=C[g]=C[h]=C[b]=C[v]=C[y]=C[E]=!1;var B="object"==typeof tF&&tF&&tF.Object===Object&&tF,w="object"==typeof self&&self&&self.Object===Object&&self,D=B||w||Function("return this")(),S=t&&!t.nodeType&&t,O=S&&e&&!e.nodeType&&e,N=O&&O.exports===S,P=N&&B.process,A=function(){try{return P&&P.binding&&P.binding("util")}catch(e){}}(),T=A&&A.isTypedArray;function M(e){var t=-1,n=Array(e.size);return e.forEach(function(e,o){n[++t]=[o,e]}),n}function I(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var H=Array.prototype,L=Function.prototype,_=Object.prototype,R=D["__core-js_shared__"],W=L.toString,z=_.hasOwnProperty;var G=(n=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",q=_.toString,J=RegExp("^"+W.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),V=N?D.Buffer:void 0,$=D.Symbol,X=D.Uint8Array,U=_.propertyIsEnumerable,K=H.splice,Y=$?$.toStringTag:void 0;var Q=Object.getOwnPropertySymbols,Z=V?V.isBuffer:void 0,ee=(o=Object.keys,r=Object,function(e){return o(r(e))}),et=eC(D,"DataView"),en=eC(D,"Map"),eo=eC(D,"Promise"),er=eC(D,"Set"),ei=eC(D,"WeakMap"),ea=eC(Object,"create"),es=eD(et),el=eD(en),ec=eD(eo),eu=eD(er),ed=eD(ei),ep=$?$.prototype:void 0,ef=ep?ep.valueOf:void 0;function eg(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function eh(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}eg.prototype.clear=function(){this.__data__=ea?ea(null):{},this.size=0},eg.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},eg.prototype.get=function(e){var t=this.__data__;if(ea){var n=t[e];return n===a?void 0:n}return z.call(t,e)?t[e]:void 0},eg.prototype.has=function(e){var t=this.__data__;return ea?void 0!==t[e]:z.call(t,e)},eg.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ea&&void 0===t?a:t,this};function em(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}eh.prototype.clear=function(){this.__data__=[],this.size=0},eh.prototype.delete=function(e){var t=this.__data__,n=ey(t,e);return!(n<0)&&(n==t.length-1?t.pop():K.call(t,n,1),--this.size,!0)},eh.prototype.get=function(e){var t=this.__data__,n=ey(t,e);return n<0?void 0:t[n][1]},eh.prototype.has=function(e){return ey(this.__data__,e)>-1},eh.prototype.set=function(e,t){var n=this.__data__,o=ey(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this};function eb(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new em;++t<n;)this.add(e[t])}em.prototype.clear=function(){this.size=0,this.__data__={hash:new eg,map:new(en||eh),string:new eg}},em.prototype.delete=function(e){var t=ej(this,e).delete(e);return this.size-=t?1:0,t},em.prototype.get=function(e){return ej(this,e).get(e)},em.prototype.has=function(e){return ej(this,e).has(e)},em.prototype.set=function(e,t){var n=ej(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this};function ev(e){var t=this.__data__=new eh(e);this.size=t.size}eb.prototype.add=eb.prototype.push=function(e){return this.__data__.set(e,a),this},eb.prototype.has=function(e){return this.__data__.has(e)};ev.prototype.clear=function(){this.__data__=new eh,this.size=0},ev.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ev.prototype.get=function(e){return this.__data__.get(e)},ev.prototype.has=function(e){return this.__data__.has(e)},ev.prototype.set=function(e,t){var n=this.__data__;if(n instanceof eh){var o=n.__data__;if(!en||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new em(o)}return n.set(e,t),this.size=n.size,this};function ey(e,t){for(var n=e.length;n--;)if(eS(e[n][0],t))return n;return -1}function eE(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Y&&Y in Object(e)?function(e){var t=z.call(e,Y),n=e[Y];try{e[Y]=void 0;var o=!0}catch(e){}var r=q.call(e);return o&&(t?e[Y]=n:delete e[Y]),r}(e):function(e){return q.call(e)}(e)}function ex(e){return eI(e)&&eE(e)==s}function ek(e,t,n,o,r,i){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var u=-1,d=!0,p=2&n?new eb:void 0;for(i.set(e,t),i.set(t,e);++u<s;){var f=e[u],g=t[u];if(o)var h=a?o(g,f,u,t,e,i):o(f,g,u,e,t,i);if(void 0!==h){if(h)continue;d=!1;break}if(p){if(!function(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}(t,function(e,t){var a,s;if(a=p,s=t,!a.has(s)&&(f===e||r(f,e,n,o,i)))return p.push(t)})){d=!1;break}}else if(!(f===g||r(f,g,n,o,i))){d=!1;break}}return i.delete(e),i.delete(t),d}function eF(e){var t,n,o,r;return t=e,n=eL,o=eB,r=n(t),eN(t)?r:function(e,t){for(var n=-1,o=t.length,r=e.length;++n<o;)e[r+n]=t[n];return e}(r,o(t))}function ej(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function eC(e,t){var n,o,r,i=(n=e,o=t,null==n?void 0:n[o]);return!(!eM(r=i)||function(e){return!!G&&G in e}(r))&&(eA(r)?J:F).test(eD(r))?i:void 0}var eB=Q?function(e){return null==e?[]:function(e,t){for(var n=-1,o=null==e?0:e.length,r=0,i=[];++n<o;){var a=e[n];t(a,n,e)&&(i[r++]=a)}return i}(Q(e=Object(e)),function(t){return U.call(e,t)})}:function(){return[]},ew=eE;(et&&ew(new et(new ArrayBuffer(1)))!=k||en&&ew(new en)!=f||eo&&ew(eo.resolve())!=m||er&&ew(new er)!=v||ei&&ew(new ei)!=E)&&(ew=function(e){var t=eE(e),n=t==h?e.constructor:void 0,o=n?eD(n):"";if(o)switch(o){case es:return k;case el:return f;case ec:return m;case eu:return v;case ed:return E}return t});function eD(e){if(null!=e){try{return W.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function eS(e,t){return e===t||e!=e&&t!=t}var eO=ex(function(){return arguments}())?ex:function(e){return eI(e)&&z.call(e,"callee")&&!U.call(e,"callee")},eN=Array.isArray,eP=Z||function(){return!1};function eA(e){if(!eM(e))return!1;var t=eE(e);return t==p||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function eT(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function eM(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function eI(e){return null!=e&&"object"==typeof e}var eH=T?(i=T,function(e){return i(e)}):function(e){return eI(e)&&eT(e.length)&&!!C[eE(e)]};function eL(e){var t;return null!=(t=e)&&eT(t.length)&&!eA(t)?function(e,t){var n=eN(e),o=!n&&eO(e),r=!n&&!o&&eP(e),i=!n&&!o&&!r&&eH(e),a=n||o||r||i,s=a?function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}(e.length,String):[],l=s.length;for(var c in e)z.call(e,c)&&!(a&&("length"==c||r&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||function(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||j.test(e))&&e>-1&&e%1==0&&e<t}(c,l)))&&s.push(c);return s}(e):function(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||_;return e===n}(e))return ee(e);var t=[];for(var n in Object(e))z.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e,t){return function e(t,n,o,r,i){return t===n||(null!=t&&null!=n&&(eI(t)||eI(n))?function(e,t,n,o,r,i){var a=eN(e),p=eN(t),m=a?l:ew(e),E=p?l:ew(t);m=m==s?h:m,E=E==s?h:E;var F=m==h,j=E==h,C=m==E;if(C&&eP(e)){if(!eP(t))return!1;a=!0,F=!1}if(C&&!F)return i||(i=new ev),a||eH(e)?ek(e,t,n,o,r,i):function(e,t,n,o,r,i,a){switch(n){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case x:if(e.byteLength!=t.byteLength||!i(new X(e),new X(t)))break;return!0;case c:case u:case g:return eS(+e,+t);case d:return e.name==t.name&&e.message==t.message;case b:case y:return e==t+"";case f:var s=M;case v:var l=1&o;if(s||(s=I),e.size!=t.size&&!l)break;var p=a.get(e);if(p)return p==t;o|=2,a.set(e,t);var h=ek(s(e),s(t),o,r,i,a);return a.delete(e),h;case"[object Symbol]":if(ef)return ef.call(e)==ef.call(t)}return!1}(e,t,m,n,o,r,i);if(!(1&n)){var B=F&&z.call(e,"__wrapped__"),w=j&&z.call(t,"__wrapped__");if(B||w){var D=B?e.value():e,S=w?t.value():t;return i||(i=new ev),r(D,S,n,o,i)}}return!!C&&(i||(i=new ev),function(e,t,n,o,r,i){var a=1&n,s=eF(e),l=s.length;if(l!=eF(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:z.call(t,u)))return!1}var d=i.get(e);if(d&&i.get(t))return d==t;var p=!0;i.set(e,t),i.set(t,e);for(var f=a;++c<l;){var g=e[u=s[c]],h=t[u];if(o)var m=a?o(h,g,u,t,e,i):o(g,h,u,e,t,i);if(!(void 0===m?g===h||r(g,h,n,o,i):m)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var b=e.constructor,v=t.constructor;b!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v)&&(p=!1)}return i.delete(e),i.delete(t),p}(e,t,n,o,r,i))}(t,n,o,r,e,i):t!=t&&n!=n)}(e,t)}}(tw,tw.exports);var tD=tw.exports,tS=()=>Math.floor(1e6*Math.random()+1e6*Math.random()),tO=e=>{try{return e.constructor.name}catch(e){return""}},tN=class{getTypeId(){return"p-".concat(this.type)}createConnection(){self.addEventListener("message",this._messageListener)}dispose(){self.removeEventListener("message",this._messageListener)}sendMessage(e){return new Promise(t=>{let n=tS(),o={$originId:this.internalId,$type:this.getTypeId(),$data:e,$id:n};this.outgoingMessages.add(n);let r=e=>{let{data:o}=e;o.$type===this.getTypeId()&&o.$id===n&&o.$originId!==this.internalId&&(t(o.$data),self.removeEventListener("message",r))};self.addEventListener("message",r),this._postMessage(o)})}_postMessage(e){this.isWorker||"undefined"!=typeof DedicatedWorkerGlobalScope&&this.target instanceof DedicatedWorkerGlobalScope?this.target.postMessage(e):this.target.postMessage(e,"*")}constructor(e,t,n){this.type=e,this.handleMessage=t,this.target=n,this.outgoingMessages=new Set,this._messageListener=async e=>{var t;let{data:n}=e;if(n.$type!==this.getTypeId()||this.outgoingMessages.has(n.$id))return;let o={$originId:this.internalId,$type:this.getTypeId(),$id:n.$id};try{let e=await this.handleMessage(n.$data);o.$data=e}catch(e){!e.message&&console.error(e),o.$error={message:null!=(t=e.message)?t:"Unknown error"}}e.source?e.source.postMessage(o,"*"):this._postMessage(o)},this.createConnection(),this.internalId=tS(),this.isWorker="Worker"===tO(n)}},tP=class{cleanup(){window.removeEventListener("message",this.eventListener),this.globalListeners={},this.channelListeners={},this.globalListenersCount=0,this.channelListenersCount=0}register(){this.frameWindow&&this.frameWindow.postMessage({type:"register-frame",origin:document.location.origin,id:this.channelId},this.origin)}dispatch(e){this.frameWindow&&this.frameWindow.postMessage((0,s.default)({$id:this.channelId,codesandbox:!0},e),this.origin)}globalListen(e){if("function"!=typeof e)return()=>{};let t=this.globalListenersCount;return this.globalListeners[t]=e,this.globalListenersCount++,()=>{delete this.globalListeners[t]}}channelListen(e){if("function"!=typeof e)return()=>{};let t=this.channelListenersCount;return this.channelListeners[t]=e,this.channelListenersCount++,()=>{delete this.channelListeners[t]}}eventListener(e){if(e.source!==this.frameWindow)return;let t=e.data;if(!!t.codesandbox)Object.values(this.globalListeners).forEach(e=>e(t)),t.$id===this.channelId&&Object.values(this.channelListeners).forEach(e=>e(t))}constructor(e,t){this.globalListeners={},this.globalListenersCount=0,this.channelListeners={},this.channelListenersCount=0,this.channelId=Math.floor(1e6*Math.random()),this.frameWindow=e.contentWindow,this.origin=t,this.globalListeners=[],this.channelListeners=[],this.eventListener=this.eventListener.bind(this),"undefined"!=typeof window&&window.addEventListener("message",this.eventListener)}};function tA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/index.js";return JSON.stringify({name:"sandpack-project",main:n,dependencies:e,devDependencies:t},null,2)}var tT="https://".concat("0.19.0".replace(/\./g,"-"),"-sandpack.codesandbox.io/"),tM=class{cleanup(){this.unsubscribeChannelListener(),this.unsubscribeGlobalListener(),this.iframeProtocol.cleanup()}updateOptions(e){!tD(this.options,e)&&(this.options=e,this.updatePreview())}updatePreview(){var e,t,n,o;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.sandboxInfo,i=arguments.length>1?arguments[1]:void 0;this.sandboxInfo=(0,s.default)({},this.sandboxInfo,r);let c=this.getFiles(),u=Object.keys(c).reduce((e,t)=>(0,l.default)((0,s.default)({},e),{[t]:{code:c[t].code,path:t}}),{}),d=JSON.parse(tA(this.sandboxInfo.dependencies,this.sandboxInfo.devDependencies,this.sandboxInfo.entry));try{d=JSON.parse(c["/package.json"].code)}catch(e){console.error("Could not parse package.json file: "+e.message)}let p=Object.keys(c).reduce((e,t)=>(0,l.default)((0,s.default)({},e),{[t]:{content:c[t].code,path:t}}),{});this.dispatch({type:"compile",codesandbox:!0,version:3,isInitializationCompile:i,modules:u,reactDevTools:this.options.reactDevTools,externalResources:this.options.externalResources||[],hasFileResolver:Boolean(this.options.fileResolver),disableDependencyPreprocessing:this.sandboxInfo.disableDependencyPreprocessing,template:this.sandboxInfo.template||tB(d,p),showOpenInCodeSandbox:null==(e=this.options.showOpenInCodeSandbox)||e,showErrorScreen:null==(t=this.options.showErrorScreen)||t,showLoadingScreen:null==(n=this.options.showLoadingScreen)||n,skipEval:this.options.skipEval||!1,clearConsoleDisabled:!this.options.clearConsoleOnFirstCompile,logLevel:null!=(o=this.options.logLevel)?o:a.Info})}dispatch(e){this.iframeProtocol.dispatch(e)}listen(e){return this.iframeProtocol.channelListen(e)}getCodeSandboxURL(){let e=this.getFiles(),t=Object.keys(e).reduce((t,n)=>(0,l.default)((0,s.default)({},t),{[n.replace("/","")]:{content:e[n].code,isBinary:!1}}),{});return fetch("https://codesandbox.io/api/v1/sandboxes/define?json=1",{method:"POST",body:JSON.stringify({files:t}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(e=>e.json()).then(e=>({sandboxId:e.sandbox_id,editorUrl:"https://codesandbox.io/s/".concat(e.sandbox_id),embedUrl:"https://codesandbox.io/embed/".concat(e.sandbox_id)}))}getFiles(){let{sandboxInfo:e}=this;return void 0===e.files["/package.json"]?function(e,t,n,o){let r=(0,s.default)({},e);if(!r["/package.json"]){if(!t)throw Error("No dependencies specified, please specify either a package.json or dependencies.");if(!o)throw Error("Missing 'entry' parameter. Either specify an entry point, or pass in a package.json with the 'main' field set.");r["/package.json"]={code:tA(t,n,o)}}return r}(e.files,e.dependencies,e.devDependencies,e.entry):this.sandboxInfo.files}initializeElement(){if(this.iframe.style.border="0",this.iframe.style.width=this.options.width||"100%",this.iframe.style.height=this.options.height||"100%",this.iframe.style.overflow="hidden",!this.element.parentNode)throw Error("Given element does not have a parent.");this.element.parentNode.replaceChild(this.iframe,this.element)}constructor(e,t,n={}){var o;if(this.getTranspilerContext=()=>new Promise(e=>{let t=this.listen(n=>{"transpiler-context"===n.type&&(e(n.data),t())});this.dispatch({type:"get-transpiler-context"})}),this.options=n,this.sandboxInfo=t,this.bundlerURL=n.bundlerURL||tT,this.bundlerState=void 0,this.errors=[],this.status="initializing","string"==typeof e){this.selector=e;let t=document.querySelector(e);if(!t)throw Error("No element found for selector '".concat(e,"'"));this.element=t,this.iframe=document.createElement("iframe"),this.initializeElement()}else this.element=e,this.iframe=e;!this.iframe.getAttribute("sandbox")&&this.iframe.setAttribute("sandbox","allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts");let r=n.startRoute?new URL(n.startRoute,this.bundlerURL).toString():this.bundlerURL;null==(o=this.iframe.contentWindow)||o.location.replace(r),this.iframeProtocol=new tP(this.iframe,this.bundlerURL),this.unsubscribeGlobalListener=this.iframeProtocol.globalListen(e=>{"initialized"===e.type&&this.iframe.contentWindow&&(this.iframeProtocol.register(),this.options.fileResolver&&(this.fileResolverProtocol=new tN("file-resolver",async e=>"isFile"===e.m?this.options.fileResolver.isFile(e.p):this.options.fileResolver.readFile(e.p),this.iframe.contentWindow)),this.updatePreview(this.sandboxInfo,!0))}),this.unsubscribeChannelListener=this.iframeProtocol.channelListen(e=>{switch(e.type){case"start":this.errors=[];break;case"status":this.status=e.status;break;case"action":"show-error"===e.action&&(this.errors=[...this.errors,function(e){if("SyntaxError"===e.title){let{title:t,path:n,message:o,line:r,column:i}=e;return{title:t,path:n,message:o,line:r,column:i}}let t=function(e){if(e)return e.find(e=>!!e._originalFileName)}(e.payload.frames);if(!t)return{message:e.message};let n=function(e){let t=e._originalScriptCode[e._originalScriptCode.length-1],n=t.lineNumber.toString().length,o=2+n+3+e._originalColumnNumber;return e._originalScriptCode.reduce((e,t)=>{let r=t.highlight?">":" ",i=t.lineNumber.toString().length===n?"".concat(t.lineNumber):" ".concat(t.lineNumber),a=t.highlight?"\n"+" ".repeat(o)+"^":"";return e+"\n"+r+" "+i+" | "+t.content+a},"")}(t),o=function(e){return e?" (".concat(e._originalLineNumber,":").concat(e._originalColumnNumber,")"):""}(t),r=function(e,t,n,o){return"".concat(e,": ").concat(t).concat(n,"\n").concat(o)}(t._originalFileName,e.message,o,n);return{message:r,title:e.title,path:t._originalFileName,line:t._originalLineNumber,column:t._originalColumnNumber}}(e)]);break;case"state":this.bundlerState=e.state}})}};function tI(e){var{className:t,files:n,presetConfig:o,show:r,children:i,codeConfig:a,style:s,frameless:l}=e,u=d(e,["className","files","presetConfig","show","children","codeConfig","style","frameless"]);let p=o?c.default.createElement(tH,{files:n,presetConfig:o}):i;return c.default.createElement("div",{className:"ch-preview"+(t?" "+t:""),style:s},l?p:c.default.createElement(tk,Object.assign({loadUrl:r,theme:a.theme},u,{children:p})))}function tH(e){let{files:t,presetConfig:n}=e,o=c.default.useRef(null),r=c.default.useRef(null);return c.default.useEffect(()=>{r.current=new tM(o.current,Object.assign(Object.assign({},n),{files:tL(n.files,t)}),{showOpenInCodeSandbox:!1})},[]),c.default.useEffect(()=>{r.current&&r.current.updatePreview(Object.assign(Object.assign({},n),{files:tL(n.files,t)}))},[t]),c.default.createElement("iframe",{ref:o})}function tL(e,t){let n=Object.assign({},e);return t.forEach(e=>{n["/"+e.name]={code:e.code.lines.map(e=>e.tokens.map(e=>e.content).join("")).join("\n")}}),n}(r=a||(a={}))[r.None=0]="None",r[r.Error=10]="Error",r[r.Warning=20]="Warning",r[r.Info=30]="Info",r[r.Debug=40]="Debug";function t_(e){var t,{children:n,editorSteps:o,codeConfig:r,start:i=0,presetConfig:a,className:s,style:l,hasPreviewSteps:u}=e,p=d(e,["children","editorSteps","codeConfig","start","presetConfig","className","style","hasPreviewSteps"]);let{stepsChildren:f,previewChildren:g}=function(e,t){let n=c.default.Children.toArray(e),o=t?n.slice(0,n.length/2):n,r=t?n.slice(n.length/2):void 0;return{stepsChildren:o,previewChildren:r}}(n,u),[h,m]=c.default.useState({stepIndex:i,step:o[i]}),b=h.step,v=f[0];return c.default.createElement("section",{className:"ch-spotlight ".concat(a||u?"ch-spotlight-with-preview":""," ").concat(s||""),style:l},c.default.createElement("div",{className:"ch-spotlight-tabs"},(null===(t=null==v?void 0:v.props)||void 0===t?void 0:t.children)?c.default.createElement("div",null,f[0]):null,f.map((e,t)=>0===t?null:c.default.createElement("div",{key:t,onClick:()=>m({stepIndex:t,step:o[t]}),className:"ch-spotlight-tab","data-selected":t===h.stepIndex?"true":void 0},e))),c.default.createElement("div",{className:"ch-spotlight-sticker"},c.default.createElement(th,Object.assign({},p,b,{codeConfig:r,onTabClick:function(e){let t=tm(h.step,e,null);m(Object.assign(Object.assign({},h),{step:t}))}})),a?c.default.createElement(tI,{className:"ch-spotlight-preview",files:b.files,presetConfig:a,codeConfig:r}):u?c.default.createElement(tI,Object.assign({className:"ch-spotlight-preview"},g[h.stepIndex].props)):null))}function tR(){let e=c.default.useContext(tz);return e?c.default.createElement(tW,Object.assign({},e)):null}function tW(e){let{editorStep:t,setFocus:n}=e,o=e=>{n({fileName:e,focus:null,id:""})},r=d(t,["preset","presetConfig"]);return c.default.createElement(th,Object.assign({},r,{onTabClick:o}))}"undefined"!=typeof window?c.default.useLayoutEffect:c.default.useEffect,c.default.createContext(void 0),"undefined"!=typeof window?c.default.useLayoutEffect:c.default.useEffect;let tz=c.default.createContext(null),tG={box:function(e){var t,n;let{children:o,data:r,theme:i}=e,a="string"==typeof r?r:(null===(n=null===(t=i.tokenColors.find(e=>{var t;return null===(t=e.scope)||void 0===t?void 0:t.includes("string")}))||void 0===t?void 0:t.settings)||void 0===n?void 0:n.foreground)||"yellow";return c.default.createElement("span",{className:"ch-code-box-annotation",style:{outline:"2px solid ".concat(a)}},o)},bg:tq,label:function(e){let{children:t,data:n,style:o,theme:r}=e,i=r.colors["editor.lineHighlightBackground"]||r.colors["editor.selectionHighlightBackground"],[a,s]=c.default.useState(!1);return c.default.createElement("div",{style:Object.assign(Object.assign({},o),{background:a?i:void 0}),onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1)},t,c.default.createElement("div",{style:{position:"absolute",right:0,paddingRight:16,display:a?"block":"none",opacity:.7}},(null==n?void 0:n.children)||n))},link:function(e){let{children:t,isInline:n,style:o,data:r}=e,i=(null==r?void 0:r.url)||r,a=null==r?void 0:r.title;return c.default.createElement("a",{href:i,title:a,className:n?"ch-code-inline-link":"ch-code-link",style:o},t)},mark:function(e){return e.isInline?c.default.createElement(tJ,Object.assign({},e)):c.default.createElement(tq,Object.assign({},e))},withClass:function(e){let{children:t,data:n,style:o,theme:r}=e;return c.default.createElement("span",{style:o,className:n},t)}};function tq(e){let{children:t,data:n,style:o,theme:r}=e,a=N(r,i.RangeHighlightBackground),s=N(r,i.EditorInfoForeground);return c.default.createElement("div",{style:Object.assign(Object.assign({},o),{background:a}),className:"ch-code-multiline-mark "+(null!=n?n:"")},c.default.createElement("span",{className:"ch-code-multiline-mark-border",style:{background:s}}),t)}function tJ(e){let{children:t,data:n,theme:o}=e,r=function(e){var t,n,o;let r=c.default.Children.toArray(e)[0],i=c.default.Children.toArray((null===(t=null==r?void 0:r.props)||void 0===t?void 0:t.children)||[])[0],a=c.default.Children.toArray((null===(n=null==i?void 0:i.props)||void 0===n?void 0:n.children)||[])[0],{color:s}=(null===(o=null==a?void 0:a.props)||void 0===o?void 0:o.style)||{};if(s)return h(s,.2)}(t)||h(N(o,i.CodeForeground),.2);return c.default.createElement("span",{className:"ch-code-inline-mark "+(null!=n?n:""),style:{background:r}},t)}}}]);