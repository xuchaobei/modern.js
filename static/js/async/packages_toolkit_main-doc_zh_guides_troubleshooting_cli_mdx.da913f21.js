(self.webpackChunkwebpack=self.webpackChunkwebpack||[]).push([["packages_toolkit_main-doc_zh_guides_troubleshooting_cli_mdx"],{48911:function(s,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(s,n){for(var e in n)Object.defineProperty(s,e,{enumerable:!0,get:n[e]})}(n,{frontmatter:function(){return c},toc:function(){return l},title:function(){return i},default:function(){return a}});var r=e("41660");let c={sidebar_position:2},l=[{id:"使用-pnpm-时无法正确传递命令行参数",text:"使用 pnpm 时无法正确传递命令行参数？",depth:3}],i="命令行问题";function o(s){let n=Object.assign({h1:"h1",a:"a",h3:"h3",p:"p",code:"code",div:"div",button:"button",pre:"pre",span:"span",strong:"strong"},s.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"命令行问题",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#命令行问题",children:"#"}),"命令行问题"]}),"\n",(0,r.jsxs)(n.h3,{id:"使用-pnpm-时无法正确传递命令行参数",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用-pnpm-时无法正确传递命令行参数",children:"#"}),"使用 pnpm 时无法正确传递命令行参数？"]}),"\n",(0,r.jsx)(n.p,{children:"pnpm v6 和 pnpm v7 版本在执行命令时使用姿势不完全一致，需要注意以下事项："}),"\n",(0,r.jsx)(n.p,{children:"pnpm v7："}),"\n",(0,r.jsxs)(n.p,{children:["在使用 pnpm 调用 ",(0,r.jsx)(n.code,{children:"package.json"})," 中的命令时，如果需要传递参数至 pnpm，需要将参数放到命令前。"]}),"\n",(0,r.jsxs)(n.p,{children:["例如使用 pnpm ",(0,r.jsx)(n.code,{children:"--filter"})," 参数执行 prepare 命令："]}),"\n",(0,r.jsxs)(n.div,{className:"language-bash",children:[(0,r.jsx)(n.div,{className:""}),(0,r.jsxs)(n.div,{className:"modern-code-content",children:[(0,r.jsx)(n.button,{className:"copy"}),(0,r.jsx)(n.pre,{className:"shiki",style:{backgroundColor:"var(--shiki-color-background)"},children:(0,r.jsxs)(n.code,{children:[(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"pnpm run --filter "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"./packages/**"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" prepare"})]}),"\n",(0,r.jsx)(n.span,{className:"line"})]})})]})]}),"\n",(0,r.jsx)(n.p,{children:"如果需要传递参数至命令，需要将参数放到命令后。"}),"\n",(0,r.jsxs)(n.p,{children:["例如，在如下 ",(0,r.jsx)(n.code,{children:"package.json"})," 配置中："]}),"\n",(0,r.jsxs)(n.div,{className:"language-json",children:[(0,r.jsx)(n.div,{className:""}),(0,r.jsxs)(n.div,{className:"modern-code-content",children:[(0,r.jsx)(n.button,{className:"copy"}),(0,r.jsx)(n.pre,{className:"shiki",style:{backgroundColor:"var(--shiki-color-background)"},children:(0,r.jsxs)(n.code,{children:[(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"{"})}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"scripts"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"command"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"modern command"'})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsx)(n.span,{className:"line"})]})})]})]}),"\n",(0,r.jsx)(n.p,{children:"执行 command 命令时携带参数方式为："}),"\n",(0,r.jsxs)(n.div,{className:"language-bash",children:[(0,r.jsx)(n.div,{className:""}),(0,r.jsxs)(n.div,{className:"modern-code-content",children:[(0,r.jsx)(n.button,{className:"copy"}),(0,r.jsx)(n.pre,{className:"shiki",style:{backgroundColor:"var(--shiki-color-background)"},children:(0,r.jsxs)(n.code,{children:[(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"pnpm run "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"command"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" --options"})]}),"\n",(0,r.jsx)(n.span,{className:"line"})]})})]})]}),"\n",(0,r.jsx)(n.p,{children:"pnpm v6:"}),"\n",(0,r.jsxs)(n.p,{children:["在如下 ",(0,r.jsx)(n.code,{children:"package.json"})," 配置中："]}),"\n",(0,r.jsxs)(n.div,{className:"language-json",children:[(0,r.jsx)(n.div,{className:""}),(0,r.jsxs)(n.div,{className:"modern-code-content",children:[(0,r.jsx)(n.button,{className:"copy"}),(0,r.jsx)(n.pre,{className:"shiki",style:{backgroundColor:"var(--shiki-color-background)"},children:(0,r.jsxs)(n.code,{children:[(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"{"})}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"scripts"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"command"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"modern command"'})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsx)(n.span,{className:"line"})]})})]})]}),"\n",(0,r.jsxs)(n.p,{children:["当需要执行 ",(0,r.jsx)(n.code,{children:"modern command --option"}),"："]}),"\n",(0,r.jsxs)(n.p,{children:["使用 pnpm 时，需要执行 ",(0,r.jsx)(n.code,{children:"pnpm run command -- --option"}),"。"]}),"\n",(0,r.jsxs)(n.p,{children:["这是因为 pnpm 对于命令参数的处理与 Yarn 并不相同，但是与 npm 类似：在不加 ",(0,r.jsx)(n.code,{children:"--"})," 字符串的时候，传递的是 pnpm 的参数；在使用 ",(0,r.jsx)(n.code,{children:"--"})," 字符串的时候，传递的是执行脚本的参数。"]}),"\n",(0,r.jsxs)(n.p,{children:["在上述例子里参数 ",(0,r.jsx)(n.code,{children:"--option"})," 传递给了 ",(0,r.jsx)(n.code,{children:"modern command"}),"。如果执行 ",(0,r.jsx)(n.code,{children:"pnpm run command --option"}),"，则参数 ",(0,r.jsx)(n.code,{children:"--option"})," 将传递给 pnpm。"]}),"\n",(0,r.jsx)(n.p,{children:"总结来说："}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"在使用 pnpm v7 时，如果传递参数给 pnpm，需要将参数放置到命令前"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsxs)(n.strong,{children:["在使用 pnpm v6 时，如果传递的参数给 pnpm，不需要加 ",(0,r.jsx)(n.code,{children:"--"}),"；如果传递的参数是给脚本使用，需要增加 ",(0,r.jsx)(n.code,{children:"--"})," 字符串"]}),"。"]})]})}var a=function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=s.components||{};return n?(0,r.jsx)(n,Object.assign({},s,{children:(0,r.jsx)(o,s)})):o(s)}}}]);